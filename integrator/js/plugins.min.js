this.fitie=function(e){function t(){c.call(e,h+p,t);var n={boxSizing:"content-box",display:"inline-block",overflow:"hidden"};"backgroundColor backgroundImage borderColor borderStyle borderWidth bottom fontSize lineHeight height left opacity margin position right top visibility width".replace(/\w+/g,function(e){n[e]=l[e]}),r.border=r.margin=r.padding=0,r.display="block",r.height=r.width="auto",r.opacity=1;var d=e.videoWidth||e.width,f=e.videoHeight||e.height,g=d/f,m=document.createElement("object-fit");m.appendChild(e.parentNode.replaceChild(m,e));for(var v in n)m.runtimeStyle[v]=n[v];var y;"fill"===i?u?(r.width=s,r.height=o):(r["-ms-transform-origin"]="0% 0%",r["-ms-transform"]="scale("+s/d+","+o/f+")"):(a>g?"contain"===i:"cover"===i)?(y=o*g,r.width=Math.round(y)+"px",r.height=o+"px",r.marginLeft=Math.round((s-y)/2)+"px"):(y=s/g,r.width=s+"px",r.height=Math.round(y)+"px",r.marginTop=Math.round((o-y)/2)+"px")}var i=e.currentStyle["object-fit"];if(i&&/^(contain|cover|fill)$/.test(i)){var s=e.clientWidth,o=e.clientHeight,a=s/o,n=e.nodeName.toLowerCase(),r=e.runtimeStyle,l=e.currentStyle,d=e.addEventListener||e.attachEvent,c=e.removeEventListener||e.detachEvent,h=e.addEventListener?"":"on",u="img"===n,p=u?"load":"loadedmetadata";d.call(e,h+p,t),e.complete&&t()}},this.fitie.init=function(){if(document.body)for(var e=document.querySelectorAll("img,video"),t=-1;e[++t];)fitie(e[t]);else setTimeout(fitie.init)},/MSIE|Trident/.test(navigator.userAgent)&&this.fitie.init(),!function(e,t){"function"==typeof define&&"object"==typeof define.amd?define(["jquery"],t):t(e.$)}(this,function(e){var t=function(t){var i=0,s=0;return e.each(t.parts,function(e,t){i+=i*t.limit+t.stop,s+=s*t.limit+t.value}),t.down?i>=s:i<=s},i=function(){for(var i=e(this),o=i.data("counter"),a=o.parts.length-1;a>=0;){var n=o.parts[a];if(n.value+=o.down?-1:1,o.down&&n.value<0)n.value=n.limit;else{if(o.down||!(n.value>n.limit))break;n.value=0}a--}s(i,a),t(o)&&(clearInterval(o.intervalId),i.trigger("counterStop"))},s=function(t,i){for(var s=t.data("counter"),n=s.parts.length-1,r=function(e,i){o(t,n,e,i)};n>=i;){for(var l=s.parts[n],d=l.value+"";d.length<l.padding;)d="0"+d;e.each(a(d,""),r),n--}},o=function(t,i,s,o){var a=e(e(t.children("span.part").get(i)).find("span.digit").get(s));a.attr("class","digit digit"+o+" digit"+a.text()+o).text(o)},a=function(e){var t,i=String.prototype.split,s=/()??/.exec("")[1]===e;return t=function(t,o,a){if("[object RegExp]"!==Object.prototype.toString.call(o))return i.call(t,o,a);var n,r,l,d,c=[],h=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),u=0,o=new RegExp(o.source,h+"g");for(t+="",s||(n=new RegExp("^"+o.source+"$(?!\\s)",h)),a=a===e?-1>>>0:a>>>0;(r=o.exec(t))&&(l=r.index+r[0].length,!(l>u&&(c.push(t.slice(u,r.index)),!s&&r.length>1&&r[0].replace(n,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(r[t]=e)}),r.length>1&&r.index<t.length&&Array.prototype.push.apply(c,r.slice(1)),d=r[0].length,u=l,c.length>=a)));)o.lastIndex===r.index&&o.lastIndex++;return u===t.length?!d&&o.test("")||c.push(""):c.push(t.slice(u)),c.length>a?c.slice(0,a):c}}(),n={init:function(s){return s=s||{},this.each(function(){var o=e(this),n=o.data("counter")||{};n.interval=parseInt(s.interval||o.attr("data-interval")||"1000",10),n.down="down"==(s.direction||o.attr("data-direction")||"down"),n.parts=[];var r=a(s.initial||o.text(),/([^0-9]+)/),l=a(s.format||o.attr("data-format")||"23:59:59",/([^0-9]+)/),d=s.stop||o.attr("data-stop");return d&&(d=a(d,/([^0-9]+)/)),o.html(""),e.each(l,function(t,i){if(/^\d+$/.test(i)){var s={};s.index=t,s.padding=(i+"").length,s.limit=parseInt(i,10),s.value=parseInt(r[r.length-l.length+t]||0,10),s.value=s.value>s.limit?s.limit:s.value,s.reset=s.value,s.stop=parseInt(d?d[d.length-l.length+t]:n.down?0:s.limit,10),s.stop=s.stop>s.limit?s.limit:s.stop,s.stop=s.stop<0?0:s.stop;for(var c=e("<span>").addClass("part").addClass("part"+t),h=s.value+"";h.length<s.padding;)h="0"+h;e.each(a(h,""),function(t,i){c.append(e("<span>").addClass("digit digit"+i).text(i))}),o.append(c),n.parts.push(s)}else o.append(e("<span>").addClass("separator").addClass("separator"+t).text(i))}),t(n)?o.trigger("counterStop"):n.intervalId=setInterval(e.proxy(i,this),n.interval),o.data("counter",n),this})},play:function(){return this.each(function(){var t=e(this),s=t.data("counter");s.intervalId||(s.intervalId=setInterval(e.proxy(i,this),s.interval))})},reset:function(){return this.each(function(){var t=e(this),o=t.data("counter");e.each(o.parts,function(e,t){t.value=t.reset}),s(e(this),0),o.intervalId&&(clearInterval(o.intervalId),o.intervalId=setInterval(e.proxy(i,this),o.interval))})},stop:function(){return this.each(function(){var t=e(this),i=t.data("counter");clearInterval(i.intervalId),i.intervalId=0,t.trigger("counterStop")})}};e.fn.counter=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.counter"):n.init.apply(this,arguments)}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(t,i){this.element=t,this.options=e.extend({},o,i),this.init()}function i(t){if(!e(t.target).parents().hasClass("jq-selectbox")&&"OPTION"!=t.target.nodeName&&e("div.jq-selectbox.opened").length){var i=e("div.jq-selectbox.opened"),o=e("div.jq-selectbox__search input",i),a=e("div.jq-selectbox__dropdown",i),n=i.find("select").data("_"+s).options;n.onSelectClosed.call(i),o.length&&o.val("").keyup(),a.hide().find("li.sel").addClass("selected"),i.removeClass("focused opened dropup dropdown")}}var s="styler",o={idSuffix:"-styler",filePlaceholder:"Файл не выбран",fileBrowse:"Обзор...",fileNumber:"Выбрано файлов: %s",selectPlaceholder:"Выберите...",selectSearch:!1,selectSearchLimit:10,selectSearchNotFound:"Совпадений не найдено",selectSearchPlaceholder:"Поиск...",selectVisibleOptions:0,singleSelectzIndex:"100",selectSmartPositioning:!0,onSelectOpened:function(){},onSelectClosed:function(){},onFormStyled:function(){}};t.prototype={init:function(){function t(){void 0!==s.attr("id")&&""!==s.attr("id")&&(this.id=s.attr("id")+o.idSuffix),this.title=s.attr("title"),this.classes=s.attr("class"),this.data=s.data()}var s=e(this.element),o=this.options,a=!(!navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||navigator.userAgent.match(/(Windows\sPhone)/i)),n=!(!navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/(Windows\sPhone)/i));if(s.is(":checkbox")){var r=function(){var i=new t,o=e('<div class="jq-checkbox"><div class="jq-checkbox__div"></div></div>').attr({id:i.id,title:i.title}).addClass(i.classes).data(i.data);s.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(o).prependTo(o),o.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative",overflow:"hidden"}),s.is(":checked")&&o.addClass("checked"),s.is(":disabled")&&o.addClass("disabled"),o.click(function(e){e.preventDefault(),o.is(".disabled")||(s.is(":checked")?(s.prop("checked",!1),o.removeClass("checked")):(s.prop("checked",!0),o.addClass("checked")),s.focus().change())}),s.closest("label").add('label[for="'+s.attr("id")+'"]').on("click.styler",function(t){e(t.target).is("a")||e(t.target).closest(o).length||(o.triggerHandler("click"),t.preventDefault())}),s.on("change.styler",function(){s.is(":checked")?o.addClass("checked"):o.removeClass("checked")}).on("keydown.styler",function(e){32==e.which&&o.click()}).on("focus.styler",function(){o.is(".disabled")||o.addClass("focused")}).on("blur.styler",function(){o.removeClass("focused")})};r(),s.on("refresh",function(){s.closest("label").add('label[for="'+s.attr("id")+'"]').off(".styler"),s.off(".styler").parent().before(s).remove(),r()})}else if(s.is(":radio")){var l=function(){var i=new t,o=e('<div class="jq-radio"><div class="jq-radio__div"></div></div>').attr({id:i.id,title:i.title}).addClass(i.classes).data(i.data);s.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(o).prependTo(o),o.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative"}),s.is(":checked")&&o.addClass("checked"),s.is(":disabled")&&o.addClass("disabled"),e.fn.commonParents=function(){var t=this;return t.first().parents().filter(function(){return e(this).find(t).length===t.length})},e.fn.commonParent=function(){return e(this).commonParents().first()},o.click(function(t){if(t.preventDefault(),!o.is(".disabled")){var i=e('input[name="'+s.attr("name")+'"]');i.commonParent().find(i).prop("checked",!1).parent().removeClass("checked"),s.prop("checked",!0).parent().addClass("checked"),s.focus().change()}}),s.closest("label").add('label[for="'+s.attr("id")+'"]').on("click.styler",function(t){e(t.target).is("a")||e(t.target).closest(o).length||(o.triggerHandler("click"),t.preventDefault())}),s.on("change.styler",function(){s.parent().addClass("checked")}).on("focus.styler",function(){o.is(".disabled")||o.addClass("focused")}).on("blur.styler",function(){o.removeClass("focused")})};l(),s.on("refresh",function(){s.closest("label").add('label[for="'+s.attr("id")+'"]').off(".styler"),s.off(".styler").parent().before(s).remove(),l()})}else if(s.is(":file")){s.css({position:"absolute",top:0,right:0,margin:0,padding:0,opacity:0,fontSize:"100px"});var d=function(){var i=new t,a=s.data("placeholder");void 0===a&&(a=o.filePlaceholder);var n=s.data("browse");void 0!==n&&""!==n||(n=o.fileBrowse);var r=e('<div class="jq-file"><div class="jq-file__name">'+a+'</div><div class="jq-file__browse">'+n+"</div></div>").css({display:"inline-block",position:"relative",overflow:"hidden"}).attr({id:i.id,title:i.title}).addClass(i.classes).data(i.data);s.after(r).appendTo(r),s.is(":disabled")&&r.addClass("disabled"),s.on("change.styler",function(){var t=s.val(),i=e("div.jq-file__name",r);if(s.is("[multiple]")){t="";var n=s[0].files.length;if(n>0){var l=s.data("number");void 0===l&&(l=o.fileNumber),l=l.replace("%s",n),t=l}}i.text(t.replace(/.+[\\\/]/,"")),""===t?(i.text(a),r.removeClass("changed")):r.addClass("changed")}).on("focus.styler",function(){r.addClass("focused")}).on("blur.styler",function(){r.removeClass("focused")}).on("click.styler",function(){r.removeClass("focused")})};d(),s.on("refresh",function(){s.off(".styler").parent().before(s).remove(),d()})}else if(s.is('input[type="number"]')){var c=function(){var i=new t,o=e('<div class="jq-number"><div class="jq-number__spin minus"></div><div class="jq-number__spin plus"></div></div>').attr({id:i.id,title:i.title}).addClass(i.classes).data(i.data);s.after(o).prependTo(o).wrap('<div class="jq-number__field"></div>'),s.is(":disabled")&&o.addClass("disabled");var a,n,r,l=null,d=null;void 0!==s.attr("min")&&(a=s.attr("min")),void 0!==s.attr("max")&&(n=s.attr("max")),r=void 0!==s.attr("step")&&e.isNumeric(s.attr("step"))?Number(s.attr("step")):Number(1);var c=function(t){var i,o=s.val();e.isNumeric(o)||(o=0,s.val("0")),t.is(".minus")?i=Number(o)-r:t.is(".plus")&&(i=Number(o)+r);var l=(r.toString().split(".")[1]||[]).length;if(l>0){for(var d="1";d.length<=l;)d+="0";i=Math.round(i*d)/d}e.isNumeric(a)&&e.isNumeric(n)?i>=a&&i<=n&&s.val(i):e.isNumeric(a)&&!e.isNumeric(n)?i>=a&&s.val(i):!e.isNumeric(a)&&e.isNumeric(n)?i<=n&&s.val(i):s.val(i)};o.is(".disabled")||(o.on("mousedown","div.jq-number__spin",function(){var t=e(this);c(t),l=setTimeout(function(){d=setInterval(function(){c(t)},40)},350)}).on("mouseup mouseout","div.jq-number__spin",function(){clearTimeout(l),clearInterval(d)}).on("mouseup","div.jq-number__spin",function(){s.change()}),s.on("focus.styler",function(){o.addClass("focused")}).on("blur.styler",function(){o.removeClass("focused")}))};c(),s.on("refresh",function(){s.off(".styler").closest(".jq-number").before(s).remove(),c()})}else if(s.is("select")){var h=function(){function r(t){t.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(t){var i=null;"mousewheel"==t.type?i=t.originalEvent.wheelDelta*-1:"DOMMouseScroll"==t.type&&(i=40*t.originalEvent.detail),i&&(t.stopPropagation(),t.preventDefault(),e(this).scrollTop(i+e(this).scrollTop()))})}function l(){for(var e=0;e<h.length;e++){var t=h.eq(e),i="",s="",a="",n="",r="",l="",d="",c="",p="",f="disabled",g="selected sel disabled";t.prop("selected")&&(s="selected sel"),t.is(":disabled")&&(s=f),t.is(":selected:disabled")&&(s=g),void 0!==t.attr("id")&&""!==t.attr("id")&&(n=' id="'+t.attr("id")+o.idSuffix+'"'),void 0!==t.attr("title")&&""!==h.attr("title")&&(r=' title="'+t.attr("title")+'"'),void 0!==t.attr("class")&&(d=" "+t.attr("class"),p=' data-jqfs-class="'+t.attr("class")+'"');var m=t.data();for(var v in m)""!==m[v]&&(l+=" data-"+v+'="'+m[v]+'"');s+d!==""&&(a=' class="'+s+d+'"'),i="<li"+p+l+a+r+n+">"+t.html()+"</li>",t.parent().is("optgroup")&&(void 0!==t.parent().attr("class")&&(c=" "+t.parent().attr("class")),i="<li"+p+l+' class="'+s+d+" option"+c+'"'+r+n+">"+t.html()+"</li>",t.is(":first-child")&&(i='<li class="optgroup'+c+'">'+t.parent().attr("label")+"</li>"+i)),u+=i}}function d(){var n=new t,d="",c=s.data("placeholder"),p=s.data("search"),f=s.data("search-limit"),g=s.data("search-not-found"),m=s.data("search-placeholder"),v=s.data("z-index"),y=s.data("smart-positioning");void 0===c&&(c=o.selectPlaceholder),void 0!==p&&""!==p||(p=o.selectSearch),void 0!==f&&""!==f||(f=o.selectSearchLimit),void 0!==g&&""!==g||(g=o.selectSearchNotFound),void 0===m&&(m=o.selectSearchPlaceholder),void 0!==v&&""!==v||(v=o.singleSelectzIndex),void 0!==y&&""!==y||(y=o.selectSmartPositioning);var w=e('<div class="jq-selectbox jqselect"><div class="jq-selectbox__select" style="position: relative"><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>').css({display:"inline-block",position:"relative",zIndex:v}).attr({id:n.id,title:n.title}).addClass(n.classes).data(n.data);s.css({margin:0,padding:0}).after(w).prependTo(w);var b=e("div.jq-selectbox__select",w),_=e("div.jq-selectbox__select-text",w),x=h.filter(":selected");l(),p&&(d='<div class="jq-selectbox__search"><input type="search" autocomplete="off" placeholder="'+m+'"></div><div class="jq-selectbox__not-found">'+g+"</div>");var C=e('<div class="jq-selectbox__dropdown" style="position: absolute">'+d+'<ul style="position: relative; list-style: none; overflow: auto; overflow-x: hidden">'+u+"</ul></div>");w.append(C);var $=e("ul",C),T=e("li",C),k=e("input",C),S=e("div.jq-selectbox__not-found",C).hide();T.length<f&&k.parent().hide(),""===h.first().text()&&h.first().is(":selected")?_.text(c).addClass("placeholder"):_.text(x.text());var D=0,M=0;if(T.css({display:"inline-block"}),T.each(function(){var t=e(this);t.innerWidth()>D&&(D=t.innerWidth(),M=t.width())}),T.css({display:""}),_.is(".placeholder")&&_.width()>D)_.width(_.width());else{var A=w.clone().appendTo("body").width("auto"),O=A.outerWidth();A.remove(),O==w.outerWidth()&&_.width(M)}D>w.width()&&C.width(D),""===h.first().text()&&""!==s.data("placeholder")&&T.first().hide(),s.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0});var I=w.outerHeight(!0),E=k.parent().outerHeight(!0),j=$.css("max-height"),z=T.filter(".selected");z.length<1&&T.first().addClass("selected sel"),void 0===T.data("li-height")&&T.data("li-height",T.outerHeight());var P=C.css("top");if("auto"==C.css("left")&&C.css({left:0}),"auto"==C.css("top")&&(C.css({top:I}),P=I),C.hide(),z.length&&(h.first().text()!=x.text()&&w.addClass("changed"),w.data("jqfs-class",z.data("jqfs-class")),w.addClass(z.data("jqfs-class"))),s.is(":disabled"))return w.addClass("disabled"),!1;b.click(function(){if(e("div.jq-selectbox").filter(".opened").length&&o.onSelectClosed.call(e("div.jq-selectbox").filter(".opened")),s.focus(),!a){var t=e(window),i=T.data("li-height"),n=w.offset().top,l=t.height()-I-(n-t.scrollTop()),d=s.data("visible-options");void 0!==d&&""!==d||(d=o.selectVisibleOptions);var c=5*i,u=i*d;d>0&&d<6&&(c=u),0===d&&(u="auto");var p=function(){C.height("auto").css({bottom:"auto",top:P});var e=function(){$.css("max-height",Math.floor((l-20-E)/i)*i)};e(),$.css("max-height",u),"none"!=j&&$.css("max-height",j),l<C.outerHeight()+20&&e()},f=function(){C.height("auto").css({top:"auto",bottom:P});var e=function(){$.css("max-height",Math.floor((n-t.scrollTop()-20-E)/i)*i)};e(),$.css("max-height",u),"none"!=j&&$.css("max-height",j),n-t.scrollTop()-20<C.outerHeight()+20&&e()};y===!0||1===y?l>c+E+20?(p(),w.removeClass("dropup").addClass("dropdown")):(f(),w.removeClass("dropdown").addClass("dropup")):y!==!1&&0!==y||l>c+E+20&&(p(),w.removeClass("dropup").addClass("dropdown")),w.offset().left+C.outerWidth()>t.width()&&C.css({left:"auto",right:0}),e("div.jqselect").css({zIndex:v-1}).removeClass("opened"),w.css({zIndex:v}),C.is(":hidden")?(e("div.jq-selectbox__dropdown:visible").hide(),C.show(),w.addClass("opened focused"),o.onSelectOpened.call(w)):(C.hide(),w.removeClass("opened dropup dropdown"),e("div.jq-selectbox").filter(".opened").length&&o.onSelectClosed.call(w)),k.length&&(k.val("").keyup(),S.hide(),k.keyup(function(){var t=e(this).val();T.each(function(){e(this).html().match(new RegExp(".*?"+t+".*?","i"))?e(this).show():e(this).hide()}),""===h.first().text()&&""!==s.data("placeholder")&&T.first().hide(),T.filter(":visible").length<1?S.show():S.hide()})),T.filter(".selected").length&&(""===s.val()?$.scrollTop(0):($.innerHeight()/i%2!==0&&(i/=2),$.scrollTop($.scrollTop()+T.filter(".selected").position().top-$.innerHeight()/2+i))),r($)}}),T.hover(function(){e(this).siblings().removeClass("selected")});var q=T.filter(".selected").text();T.filter(":not(.disabled):not(.optgroup)").click(function(){s.focus();var t=e(this),i=t.text();if(!t.is(".selected")){var a=t.index();a-=t.prevAll(".optgroup").length,t.addClass("selected sel").siblings().removeClass("selected sel"),h.prop("selected",!1).eq(a).prop("selected",!0),q=i,_.text(i),w.data("jqfs-class")&&w.removeClass(w.data("jqfs-class")),w.data("jqfs-class",t.data("jqfs-class")),w.addClass(t.data("jqfs-class")),s.change()}C.hide(),w.removeClass("opened dropup dropdown"),o.onSelectClosed.call(w)}),C.mouseout(function(){e("li.sel",C).addClass("selected")}),s.on("change.styler",function(){_.text(h.filter(":selected").text()).removeClass("placeholder"),T.removeClass("selected sel").not(".optgroup").eq(s[0].selectedIndex).addClass("selected sel"),h.first().text()!=T.filter(".selected").text()?w.addClass("changed"):w.removeClass("changed")}).on("focus.styler",function(){w.addClass("focused"),e("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()}).on("blur.styler",function(){w.removeClass("focused")}).on("keydown.styler keyup.styler",function(e){var t=T.data("li-height");""===s.val()?_.text(c).addClass("placeholder"):_.text(h.filter(":selected").text()),T.removeClass("selected sel").not(".optgroup").eq(s[0].selectedIndex).addClass("selected sel"),38!=e.which&&37!=e.which&&33!=e.which&&36!=e.which||(""===s.val()?$.scrollTop(0):$.scrollTop($.scrollTop()+T.filter(".selected").position().top)),40!=e.which&&39!=e.which&&34!=e.which&&35!=e.which||$.scrollTop($.scrollTop()+T.filter(".selected").position().top-$.innerHeight()+t),13==e.which&&(e.preventDefault(),C.hide(),w.removeClass("opened dropup dropdown"),o.onSelectClosed.call(w))}).on("keydown.styler",function(e){32==e.which&&(e.preventDefault(),b.click())}),i.registered||(e(document).on("click",i),i.registered=!0)}function c(){var i=new t,o=e('<div class="jq-select-multiple jqselect"></div>').css({display:"inline-block",position:"relative"}).attr({id:i.id,title:i.title}).addClass(i.classes).data(i.data);s.css({margin:0,padding:0}).after(o),l(),o.append("<ul>"+u+"</ul>");var a=e("ul",o).css({position:"relative","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}),n=e("li",o).attr("unselectable","on"),d=s.attr("size"),c=a.outerHeight(),p=n.outerHeight();void 0!==d&&d>0?a.css({height:p*d}):a.css({height:4*p}),c>o.height()&&(a.css("overflowY","scroll"),r(a),n.filter(".selected").length&&a.scrollTop(a.scrollTop()+n.filter(".selected").position().top)),s.prependTo(o).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0}),s.is(":disabled")?(o.addClass("disabled"),h.each(function(){e(this).is(":selected")&&n.eq(e(this).index()).addClass("selected")})):(n.filter(":not(.disabled):not(.optgroup)").click(function(t){s.focus();var i=e(this);if(t.ctrlKey||t.metaKey||i.addClass("selected"),t.shiftKey||i.addClass("first"),t.ctrlKey||t.metaKey||t.shiftKey||i.siblings().removeClass("selected first"),(t.ctrlKey||t.metaKey)&&(i.is(".selected")?i.removeClass("selected first"):i.addClass("selected first"),i.siblings().removeClass("first")),t.shiftKey){var o=!1,a=!1;i.siblings().removeClass("selected").siblings(".first").addClass("selected"),i.prevAll().each(function(){e(this).is(".first")&&(o=!0)}),i.nextAll().each(function(){e(this).is(".first")&&(a=!0)}),o&&i.prevAll().each(function(){return!e(this).is(".selected")&&void e(this).not(".disabled, .optgroup").addClass("selected")}),a&&i.nextAll().each(function(){return!e(this).is(".selected")&&void e(this).not(".disabled, .optgroup").addClass("selected")}),1==n.filter(".selected").length&&i.addClass("first")}h.prop("selected",!1),n.filter(".selected").each(function(){var t=e(this),i=t.index();t.is(".option")&&(i-=t.prevAll(".optgroup").length),h.eq(i).prop("selected",!0)}),s.change()}),h.each(function(t){e(this).data("optionIndex",t)}),s.on("change.styler",function(){n.removeClass("selected");var t=[];h.filter(":selected").each(function(){t.push(e(this).data("optionIndex"))}),n.not(".optgroup").filter(function(i){return e.inArray(i,t)>-1}).addClass("selected")}).on("focus.styler",function(){o.addClass("focused")}).on("blur.styler",function(){o.removeClass("focused")}),c>o.height()&&s.on("keydown.styler",function(e){38!=e.which&&37!=e.which&&33!=e.which||a.scrollTop(a.scrollTop()+n.filter(".selected").position().top-p),40!=e.which&&39!=e.which&&34!=e.which||a.scrollTop(a.scrollTop()+n.filter(".selected:last").position().top-a.innerHeight()+2*p)}))}var h=e("option",s),u="";if(s.is("[multiple]")){if(n||a)return;c()}else d()};h(),s.on("refresh",function(){s.off(".styler").parent().before(s).remove(),h()})}else s.is(":reset")&&s.on("click",function(){setTimeout(function(){s.closest("form").find("input, select").trigger("refresh")},1)})},destroy:function(){var t=e(this.element);t.is(":checkbox")||t.is(":radio")?(t.removeData("_"+s).off(".styler refresh").removeAttr("style").parent().before(t).remove(),t.closest("label").add('label[for="'+t.attr("id")+'"]').off(".styler")):t.is('input[type="number"]')?t.removeData("_"+s).off(".styler refresh").closest(".jq-number").before(t).remove():(t.is(":file")||t.is("select"))&&t.removeData("_"+s).off(".styler refresh").removeAttr("style").parent().before(t).remove()}},e.fn[s]=function(i){var o=arguments;if(void 0===i||"object"==typeof i)return this.each(function(){e.data(this,"_"+s)||e.data(this,"_"+s,new t(this,i))}).promise().done(function(){var t=e(this[0]).data("_"+s);t&&t.options.onFormStyled.call()}),this;if("string"==typeof i&&"_"!==i[0]&&"init"!==i){var a;return this.each(function(){var n=e.data(this,"_"+s);n instanceof t&&"function"==typeof n[i]&&(a=n[i].apply(n,Array.prototype.slice.call(o,1)))}),void 0!==a?a:this}},i.registered=!1}),function(e){e(function(){function e(){}function t(t){var s=new e;return s.then=function(e){var s;try{return e&&(s=e(t)),r(s===x?t:s)}catch(o){return i(o)}},w(s)}function i(t){var s=new e;return s.then=function(e,s){var o;try{return s?(o=s(t),r(o===x?t:o)):i(t)}catch(a){return i(a)}},w(s)}function s(e){return n(e,function(e){return i(e)})}function o(){function s(e,t,i){return u(e,t,i)}function a(e){f(t(e))}function n(e){f(i(e))}function r(e){p(e)}var l,d,c,h,u,p,f;return c=[],h=[],u=function(e,t,i){var s=o();return c.push(function(i){i.then(e,t).then(s.resolve,s.reject,s.progress)}),i&&h.push(i),s.promise},p=function(e){for(var t,i=0;t=h[i++];)t(e)},f=function(e){var t,i=0;for(u=e.then,f=p=function(){throw new Error("already completed")},h=x;t=c[i++];)t(e);c=[]},l={},d=new e,d.then=l.then=s,l.promise=w(d),l.resolver=w({resolve:l.resolve=a,reject:l.reject=n,progress:l.progress=r}),l}function a(e){return e&&"function"==typeof e.then}function n(e,t,i,s){var o=r(e);return o.then(t,i,s)}function r(t){var i,s;return t instanceof e?i=t:(s=o(),a(t)?(t.then(s.resolve,s.reject,s.progress),i=s.promise):(s.resolve(t),i=s.promise)),i}function l(e,t,i,s,a){return v(2,arguments),n(e,function(e){function r(e){g(e)}function l(e){m(e)}function d(e){v(e)}function c(){g=m=v=y}var h,u,p,f,g,m,v,w,b;if(w=e.length>>>0,h=Math.max(0,Math.min(t,w)),u=[],f=o(),p=n(f,i,s,a),h)for(g=function(e){u.push(e),--h||(c(),f.resolve(u))},m=function(e){c(),f.reject(e)},v=f.progress,b=0;b<w;++b)b in e&&n(e[b],r,l,d);else f.resolve(u);return p})}function d(e,t,i,s){return v(1,arguments),n(e,function(e){return g(e,c,[])}).then(t,i,s)}function c(e,t,i){return e[i]=t,e}function h(e,t,i,s){function o(e){return t?t(e[0]):e[0]}return l(e,1,o,i,s)}function u(e,t){return n(e,function(e){return p(e,t)})}function p(e,t){var i,s,o;for(s=e.length>>>0,i=new Array(s),o=0;o<s;o++)o in e&&(i[o]=n(e[o],t));return g(i,c,i)}function f(e,t,i){var s=_.call(arguments,1);return n(e,function(e){return g.apply(x,[e].concat(s))})}function g(e,t,i){var s,o;return s=e.length,o=[function(e,i,o){return n(e,function(e){return n(i,function(i){return t(e,i,o,s)})})}],arguments.length>2&&o.push(i),b.apply(e,o)}function m(e,t,s){var o=arguments.length>2;return n(e,function(e){return o&&(e=s),t.resolve(e),e},function(e){return t.reject(e),i(e)},t.progress)}function v(e,t){for(var i,s=t.length;s>e;)if(i=t[--s],null!=i&&"function"!=typeof i)throw new Error("callback is not a function")}function y(){}var w,b,_,x;return n.defer=o,n.reject=s,n.isPromise=a,n.all=d,n.some=l,n.any=h,n.map=u,n.reduce=f,n.chain=m,w=Object.freeze||function(e){return e},e.prototype=w({always:function(e,t){return this.then(e,e,t)},otherwise:function(e){return this.then(x,e)}}),_=[].slice,b=[].reduce||function(e){var t,i,s,o,a;if(a=0,t=Object(this),o=t.length>>>0,i=arguments,i.length<=1)for(;;){if(a in t){s=t[a++];break}if(++a>=o)throw new TypeError}else s=i[1];for(;a<o;++a)a in t&&(s=e(s,t[a],a,t));return s},n})}("function"==typeof define?define:function(e){"undefined"!=typeof module?module.exports=e():jQuery.mapster_when=e()}),function($){$.fn.mapster=function(e){var t=$.mapster.impl;return $.isFunction(t[e])?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.mapster"):t.bind.apply(this,arguments)},$.mapster={version:"1.2.10",render_defaults:{isSelectable:!0,isDeselectable:!0,fade:!1,fadeDuration:150,fill:!0,fillColor:"000000",fillColorMask:"FFFFFF",fillOpacity:.7,highlight:!0,stroke:!1,strokeColor:"ff0000",strokeOpacity:1,strokeWidth:1,includeKeys:"",altImage:null,altImageId:null,altImages:{}},defaults:{clickNavigate:!1,wrapClass:null,wrapCss:null,onGetList:null,sortList:!1,listenToList:!1,mapKey:"",mapValue:"",singleSelect:!1,listKey:"value",listSelectedAttribute:"selected",listSelectedClass:null,onClick:null,onMouseover:null,onMouseout:null,mouseoutDelay:0,onStateChange:null,boundList:null,onConfigured:null,configTimeout:3e4,noHrefIsMask:!0,scaleMap:!0,safeLoad:!1,areas:[]},shared_defaults:{render_highlight:{fade:!0},render_select:{fade:!1},staticState:null,selected:null},area_defaults:{includeKeys:"",isMask:!1},canvas_style:{position:"absolute",left:0,top:0,padding:0,border:0},hasCanvas:null,isTouch:null,map_cache:[],hooks:{},addHook:function(e,t){this.hooks[e]=(this.hooks[e]||[]).push(t)},callHooks:function(e,t){$.each(this.hooks[e]||[],function(e,i){i.apply(t)})},utils:{when:$.mapster_when,defer:$.mapster_when.defer,subclass:function(e,t){var i=function(){var i=this,s=Array.prototype.slice.call(arguments,0);i.base=e.prototype,i.base.init=function(){e.prototype.constructor.apply(i,s)},t.apply(i,s)};return i.prototype=new e,i.prototype.constructor=i,i},asArray:function(e){return e.constructor===Array?e:this.split(e)},split:function(e,t){var i,s,o=e.split(",");for(i=0;i<o.length;i++)s=$.trim(o[i]),""===s?o.splice(i,1):o[i]=t?t(s):s;return o},updateProps:function(e,t){var i,s=e||{},o=$.isEmptyObject(s)?t:e;return i=[],$.each(o,function(e){i.push(e)}),$.each(Array.prototype.slice.call(arguments,1),function(e,t){$.each(t||{},function(e){if(!i||$.inArray(e,i)>=0){var o=t[e];$.isPlainObject(o)?s[e]=$.extend(s[e]||{},o):o&&o.constructor===Array?s[e]=o.slice(0):"undefined"!=typeof o&&(s[e]=t[e])}})}),s},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},indexOfProp:function(e,t,i){var s=e.constructor===Array?-1:null;return $.each(e,function(e,o){if(o&&(t?o[t]:o)===i)return s=e,!1}),s},boolOrDefault:function(e,t){return this.isBool(e)?e:t||!1},isBool:function(e){return"boolean"==typeof e},isUndef:function(e){return"undefined"==typeof e},ifFunction:function(e,t,i){$.isFunction(e)&&e.call(t,i)},size:function(e,t){var i=$.mapster.utils;return{width:t?e.width||e.naturalWidth:i.imgWidth(e,!0),height:t?e.height||e.naturalHeight:i.imgHeight(e,!0),complete:function(){return!!this.height&&!!this.width}}},setOpacity:function(e,t){$.mapster.hasCanvas()?e.style.opacity=t:$(e).each(function(e,i){"undefined"!=typeof i.opacity?i.opacity=t:$(i).css("opacity",t)})},fader:function(){var e={},t=0,i=function(s,o,a,n){var r,l,d=n/15,c=$.mapster.utils;if("number"==typeof s){if(l=e[s],!l)return}else r=c.indexOfProp(e,null,s),r&&delete e[r],e[++t]=l=s,s=t;a=a||1,o=o+a/d>a-.01?a:o+a/d,c.setOpacity(l,o),o<a&&setTimeout(function(){i(s,o,a,n)},15)};return i}()},getBoundList:function(e,t){if(!e.boundList)return null;var i,s,o=$(),a=$.mapster.utils.split(t);return e.boundList.each(function(t,n){for(i=0;i<a.length;i++)s=a[i],$(n).is("["+e.listKey+'="'+s+'"]')&&(o=o.add(n))}),o},setBoundListProperties:function(e,t,i){t.each(function(t,s){e.listSelectedClass&&(i?$(s).addClass(e.listSelectedClass):$(s).removeClass(e.listSelectedClass)),e.listSelectedAttribute&&$(s).attr(e.listSelectedAttribute,i)})},getMapDataIndex:function(e){var t,i;switch(e.tagName&&e.tagName.toLowerCase()){case"area":i=$(e).parent().attr("name"),t=$("img[usemap='#"+i+"']")[0];break;case"img":t=e}return t?this.utils.indexOfProp(this.map_cache,"image",t):-1},getMapData:function(e){var t=this.getMapDataIndex(e.length?e[0]:e);if(t>=0)return t>=0?this.map_cache[t]:null},queueCommand:function(e,t,i,s){return!!e&&(!(e.complete&&!e.currentAction)&&(e.commands.push({that:t,command:i,args:s}),!0))},unload:function(){this.impl.unload(),this.utils=null,this.impl=null,$.fn.mapster=null,$.mapster=null,$("*").unbind()}};var m=$.mapster,u=m.utils,ap=Array.prototype;$.each(["width","height"],function(e,t){var i=t.substr(0,1).toUpperCase()+t.substr(1);u["img"+i]=function(e,s){return(s?$(e)[t]():0)||e[t]||e["natural"+i]||e["client"+i]||e["offset"+i]}}),m.Method=function(e,t,i,s){var o=this;o.name=s.name,o.output=e,o.input=e,o.first=s.first||!1,o.args=s.args?ap.slice.call(s.args,0):[],o.key=s.key,o.func_map=t,o.func_area=i,o.name=s.name,o.allowAsync=s.allowAsync||!1},m.Method.prototype={constructor:m.Method,go:function(){var e,t,i,s,o,a=this.input,n=[],r=this;for(s=a.length,e=0;e<s;e++)if(t=$.mapster.getMapData(a[e])){if(!r.allowAsync&&m.queueCommand(t,r.input,r.name,r.args)){this.first&&(o="");continue}if(i=t.getData("AREA"===a[e].nodeName?a[e]:this.key),i?$.inArray(i,n)<0&&n.push(i):o=this.func_map.apply(t,r.args),this.first||"undefined"!=typeof o)break}return $(n).each(function(e,t){
o=r.func_area.apply(t,r.args)}),"undefined"!=typeof o?o:this.output}},$.mapster.impl=function(){function hasVml(){var e=$("<div />").appendTo("body");e.html('<v:shape id="vml_flag1" adj="1" />');var t=e[0].firstChild;t.style.behavior="url(#default#VML)";var i=!t||"object"==typeof t.adj;return e.remove(),i}function namespaces(){return"object"==typeof document.namespaces?document.namespaces:null}function hasCanvas(){var e=namespaces();return(!e||!e.g_vml_)&&!!$("<canvas />")[0].getContext}function merge_areas(e,t){var i,s,o=e.options.areas;t&&$.each(t,function(t,a){a&&a.key&&(s=u.indexOfProp(o,"key",a.key),s>=0?$.extend(o[s],a):o.push(a),i=e.getDataForKey(a.key),i&&$.extend(i.options,a))})}function merge_options(e,t){var i=u.updateProps({},t);delete i.areas,u.updateProps(e.options,i),merge_areas(e,t.areas),u.updateProps(e.area_options,e.options)}var me={},addMap=function(e){return m.map_cache.push(e)-1},removeMap=function(e){m.map_cache.splice(e.index,1);for(var t=m.map_cache.length-1;t>=this.index;t--)m.map_cache[t].index--};return me.get=function(e){var t=m.getMapData(this);if(!t||!t.complete)throw"Can't access data until binding complete.";return new m.Method(this,function(){return this.getSelected()},function(){return this.isSelected()},{name:"get",args:arguments,key:e,first:!0,allowAsync:!0,defaultReturn:""}).go()},me.data=function(e){return new m.Method(this,null,function(){return this},{name:"data",args:arguments,key:e}).go()},me.highlight=function(e){return new m.Method(this,function(){if(e!==!1){var t=this.highlightId;return t>=0?this.data[t].key:null}this.ensureNoHighlight()},function(){this.highlight()},{name:"highlight",args:arguments,key:e,first:!0}).go()},me.keys=function(e,t){function i(e){var i,o=[];t?(i=e.areas(),$.each(i,function(e,t){o=o.concat(t.keys)})):o.push(e.key),$.each(o,function(e,t){$.inArray(t,s)<0&&s.push(t)})}var s=[],o=m.getMapData(this);if(!o||!o.complete)throw"Can't access data until binding complete.";return o&&o.complete?("string"==typeof e?t?i(o.getDataForKey(e)):s=[o.getKeysForGroup(e)]:(t=e,this.each(function(e,t){"AREA"===t.nodeName&&i(o.getDataForArea(t))})),s.join(",")):""},me.select=function(){me.set.call(this,!0)},me.deselect=function(){me.set.call(this,!1)},me.set=function(e,t,i){function s(t){if(t)switch(e){case!0:t.select(c);break;case!1:t.deselect(!0);break;default:t.toggle(c)}}function o(e){e&&$.inArray(e,d)<0&&(d.push(e),l+=(""===l?"":",")+e.key)}function a(t){$.each(d,function(e,t){s(t)}),e||t.removeSelectionFinish(),t.options.boundList&&m.setBoundListProperties(t.options,m.getBoundList(t.options,l),e)}var n,r,l,d,c=i;return this.filter("img,area").each(function(i,s){var h;r=m.getMapData(s),r!==n&&(n&&a(n),d=[],l=""),r&&(h="","IMG"===s.nodeName.toUpperCase()?m.queueCommand(r,$(s),"set",[e,t,c])||(t instanceof Array?t.length&&(h=t.join(",")):h=t,h&&$.each(u.split(h),function(e,t){o(r.getDataForKey(t.toString())),n=r})):(c=t,m.queueCommand(r,$(s),"set",[e,c])||(o(r.getDataForArea(s)),n=r)))}),r&&a(r),this},me.unbind=function(e){return new m.Method(this,function(){this.clearEvents(),this.clearMapData(e),removeMap(this)},null,{name:"unbind",args:arguments}).go()},me.rebind=function(e){return new m.Method(this,function(){var t=this;t.complete=!1,t.configureOptions(e),t.bindImages().then(function(){t.buildDataset(!0),t.complete=!0})},null,{name:"rebind",args:arguments}).go()},me.get_options=function(e,t){var i=u.isBool(e)?e:t;return new m.Method(this,function(){var e=$.extend({},this.options);return i&&(e.render_select=u.updateProps({},m.render_defaults,e,e.render_select),e.render_highlight=u.updateProps({},m.render_defaults,e,e.render_highlight)),e},function(){return i?this.effectiveOptions():this.options},{name:"get_options",args:arguments,first:!0,allowAsync:!0,key:e}).go()},me.set_options=function(e){return new m.Method(this,function(){merge_options(this,e)},null,{name:"set_options",args:arguments}).go()},me.unload=function(){var e;for(e=m.map_cache.length-1;e>=0;e--)m.map_cache[e]&&me.unbind.call($(m.map_cache[e].image));me.graphics=null},me.snapshot=function(){return new m.Method(this,function(){$.each(this.data,function(e,t){t.selected=!1}),this.base_canvas=this.graphics.createVisibleCanvas(this),$(this.image).before(this.base_canvas)},null,{name:"snapshot"}).go()},me.state=function(){var e,t=null;return $(this).each(function(i,s){if("IMG"===s.nodeName)return e=m.getMapData(s),e&&(t=e.state()),!1}),t},me.bind=function(e){return this.each(function(t,i){var s,o,a,n;if(s=$(i),n=m.getMapData(i)){if(me.unbind.apply(s),!n.complete)return s.bind(),!0;n=null}return a=this.getAttribute("usemap"),o=a&&$('map[name="'+a.substr(1)+'"]'),!(s.is("img")&&a&&o.length>0)||(s.css("border",0),void(n||(n=new m.MapData(this,e),n.index=addMap(n),n.map=o,n.bindImages().then(function(){n.initialize()}))))})},me.init=function(e){var t,i;m.hasCanvas=function(){return u.isBool(m.hasCanvas.value)||(m.hasCanvas.value=u.isBool(e)?e:hasCanvas()),m.hasCanvas.value},m.hasVml=function(){if(!u.isBool(m.hasVml.value)){var e=namespaces();e&&!e.v&&(e.add("v","urn:schemas-microsoft-com:vml"),t=document.createStyleSheet(),i=["shape","rect","oval","circ","fill","stroke","imagedata","group","textbox"],$.each(i,function(e,i){t.addRule("v\\:"+i,"behavior: url(#default#VML); antialias:true")})),m.hasVml.value=hasVml()}return m.hasVml.value},m.isTouch=!!document.documentElement.ontouchstart,$.extend(m.defaults,m.render_defaults,m.shared_defaults),$.extend(m.area_defaults,m.render_defaults,m.shared_defaults)},me.test=function(obj){return eval(obj)},me}(),$.mapster.impl.init()}(jQuery),function(e){function t(t,i,s){var o=t,a=o.map_data,n=s.isMask;e.each(i.areas(),function(e,t){s.isMask=n||t.nohref&&a.options.noHrefIsMask,o.addShape(t,s)}),s.isMask=n}function i(e){return Math.max(0,Math.min(parseInt(e,16),255))}function s(e,t){return"rgba("+i(e.substr(0,2))+","+i(e.substr(2,2))+","+i(e.substr(4,2))+","+t+")"}function o(){}var a,n,r,l=e.mapster,d=l.utils;l.Graphics=function(e){var t=this;t.active=!1,t.canvas=null,t.width=0,t.height=0,t.shapes=[],t.masks=[],t.map_data=e},a=l.Graphics.prototype={constructor:l.Graphics,begin:function(t,i){var s=e(t);this.elementName=i,this.canvas=t,this.width=s.width(),this.height=s.height(),this.shapes=[],this.masks=[],this.active=!0},addShape:function(e,t){var i=t.isMask?this.masks:this.shapes;i.push({mapArea:e,options:t})},createVisibleCanvas:function(t){return e(this.createCanvasFor(t)).addClass("mapster_el").css(l.canvas_style)[0]},addShapeGroup:function(i,s,o){var a,n,r,c=this,h=this.map_data,u=i.effectiveRenderOptions(s);o&&e.extend(u,o),"select"===s?(n="static_"+i.areaId.toString(),r=h.base_canvas):r=h.overlay_canvas,c.begin(r,n),u.includeKeys&&(a=d.split(u.includeKeys),e.each(a,function(e,i){var o=h.getDataForKey(i.toString());t(c,o,o.effectiveRenderOptions(s))})),t(c,i,u),c.render(),u.fade&&d.fader(l.hasCanvas()?r:e(r).find("._fill").not(".mapster_mask"),0,l.hasCanvas()?1:u.fillOpacity,u.fadeDuration)}},n={renderShape:function(e,t,i){var s,o=t.coords(null,i);switch(t.shape){case"rect":e.rect(o[0],o[1],o[2]-o[0],o[3]-o[1]);break;case"poly":for(e.moveTo(o[0],o[1]),s=2;s<t.length;s+=2)e.lineTo(o[s],o[s+1]);e.lineTo(o[0],o[1]);break;case"circ":case"circle":e.arc(o[0],o[1],o[2],0,2*Math.PI,!1)}},addAltImage:function(e,t,i,s){e.beginPath(),this.renderShape(e,i),e.closePath(),e.clip(),e.globalAlpha=s.altImageOpacity||s.fillOpacity,e.drawImage(t,0,0,i.owner.scaleInfo.width,i.owner.scaleInfo.height)},render:function(){var t,i,o=this,a=o.map_data,n=o.masks.length,r=o.createCanvasFor(a),l=r.getContext("2d"),d=o.canvas.getContext("2d");return n&&(t=o.createCanvasFor(a),i=t.getContext("2d"),i.clearRect(0,0,t.width,t.height),e.each(o.masks,function(e,t){i.save(),i.beginPath(),o.renderShape(i,t.mapArea),i.closePath(),i.clip(),i.lineWidth=0,i.fillStyle="#000",i.fill(),i.restore()})),e.each(o.shapes,function(e,t){l.save(),t.options.fill&&(t.options.altImageId?o.addAltImage(l,a.images[t.options.altImageId],t.mapArea,t.options):(l.beginPath(),o.renderShape(l,t.mapArea),l.closePath(),l.fillStyle=s(t.options.fillColor,t.options.fillOpacity),l.fill())),l.restore()}),e.each(o.shapes.concat(o.masks),function(e,t){var i=1===t.options.strokeWidth?.5:0;t.options.stroke&&(l.save(),l.strokeStyle=s(t.options.strokeColor,t.options.strokeOpacity),l.lineWidth=t.options.strokeWidth,l.beginPath(),o.renderShape(l,t.mapArea,i),l.closePath(),l.stroke(),l.restore())}),n?(i.globalCompositeOperation="source-out",i.drawImage(r,0,0),d.drawImage(t,0,0)):d.drawImage(r,0,0),o.active=!1,o.canvas},createCanvasFor:function(t){return e('<canvas width="'+t.scaleInfo.width+'" height="'+t.scaleInfo.height+'"></canvas>')[0]},clearHighlight:function(){var e=this.map_data.overlay_canvas;e.getContext("2d").clearRect(0,0,e.width,e.height)},refreshSelections:function(){var t,i=this.map_data;t=i.base_canvas,i.base_canvas=this.createVisibleCanvas(i),e(i.base_canvas).hide(),e(t).before(i.base_canvas),i.redrawSelections(),e(i.base_canvas).show(),e(t).remove()}},r={renderShape:function(t,i,s){var o,a,n,r,l,d,c,h=this,u=t.coords();switch(l=h.elementName?'name="'+h.elementName+'" ':"",d=s?'class="'+s+'" ':"",r='<v:fill color="#'+i.fillColor+'" class="_fill" opacity="'+(i.fill?i.fillOpacity:0)+'" /><v:stroke class="_fill" opacity="'+i.strokeOpacity+'"/>',a=i.stroke?" strokeweight="+i.strokeWidth+' stroked="t" strokecolor="#'+i.strokeColor+'"':' stroked="f"',o=i.fill?' filled="t"':' filled="f"',t.shape){case"rect":c="<v:rect "+d+l+o+a+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+u[0]+"px;top:"+u[1]+"px;width:"+(u[2]-u[0])+"px;height:"+(u[3]-u[1])+'px;">'+r+"</v:rect>";break;case"poly":c="<v:shape "+d+l+o+a+' coordorigin="0,0" coordsize="'+h.width+","+h.height+'" path="m '+u[0]+","+u[1]+" l "+u.slice(2).join(",")+' x e" style="zoom:1;margin:0;padding:0;display:block;position:absolute;top:0px;left:0px;width:'+h.width+"px;height:"+h.height+'px;">'+r+"</v:shape>";break;case"circ":case"circle":c="<v:oval "+d+l+o+a+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+(u[0]-u[2])+"px;top:"+(u[1]-u[2])+"px;width:"+2*u[2]+"px;height:"+2*u[2]+'px;">'+r+"</v:oval>"}return n=e(c),e(h.canvas).append(n),n},render:function(){var t,i=this;return e.each(this.shapes,function(e,t){i.renderShape(t.mapArea,t.options)}),this.masks.length&&e.each(this.masks,function(e,s){t=d.updateProps({},s.options,{fillOpacity:1,fillColor:s.options.fillColorMask}),i.renderShape(s.mapArea,t,"mapster_mask")}),this.active=!1,this.canvas},createCanvasFor:function(t){var i=t.scaleInfo.width,s=t.scaleInfo.height;return e('<var width="'+i+'" height="'+s+'" style="zoom:1;overflow:hidden;display:block;width:'+i+"px;height:"+s+'px;"></var>')[0]},clearHighlight:function(){e(this.map_data.overlay_canvas).children().remove()},removeSelections:function(t){t>=0?e(this.map_data.base_canvas).find('[name="static_'+t.toString()+'"]').remove():e(this.map_data.base_canvas).children().remove()}},e.each(["renderShape","addAltImage","render","createCanvasFor","clearHighlight","removeSelections","refreshSelections"],function(e,t){a[t]=function(e){return function(){return a[e]=(l.hasCanvas()?n[e]:r[e])||o,a[e].apply(this,arguments)}}(t)})}(jQuery),function(e){var t=e.mapster,i=t.utils,s=[];t.MapImages=function(e){this.owner=e,this.clear()},t.MapImages.prototype={constructor:t.MapImages,slice:function(){return s.slice.apply(this,arguments)},splice:function(){s.slice.apply(this.status,arguments);var e=s.slice.apply(this,arguments);return e},complete:function(){return e.inArray(!1,this.status)<0},_add:function(e){var t=s.push.call(this,e)-1;return this.status[t]=!1,t},indexOf:function(t){return e.inArray(t,this)},clear:function(){var t=this;t.ids&&t.ids.length>0&&e.each(t.ids,function(e,i){delete t[i]}),t.ids=[],t.length=0,t.status=[],t.splice(0)},add:function(t,i){var s,o,a=this;if(t){if("string"==typeof t){if(o=t,t=a[o],"object"==typeof t)return a.indexOf(t);t=e("<img />").addClass("mapster_el").hide(),s=a._add(t[0]),t.bind("load",function(e){a.imageLoaded.call(a,e)}).bind("error",function(e){a.imageLoadError.call(a,e)}),t.attr("src",o)}else s=a._add(e(t)[0]);if(i){if(this[i])throw i+" is already used or is not available as an altImage alias.";a.ids.push(i),a[i]=a[s]}return s}},bind:function(e){var t,s=this,o=s.owner.options.configTimeout/200,a=function(){var e;for(e=s.length;e-- >0&&s.isLoaded(e););s.complete()?s.resolve():o-- >0?s.imgTimeout=window.setTimeout(function(){a.call(s,!0)},50):s.imageLoadError.call(s)};return t=s.deferred=i.defer(),a(),t},resolve:function(){var e=this,t=e.deferred;t&&(e.deferred=null,t.resolve())},imageLoaded:function(t){var i=this,s=i.indexOf(t.target);s>=0&&(i.status[s]=!0,e.inArray(!1,i.status)<0&&i.resolve())},imageLoadError:function(e){clearTimeout(this.imgTimeout),this.triesLeft=0;var t=e?"The image "+e.target.src+" failed to load.":"The images never seemed to finish loading. You may just need to increase the configTimeout if images could take a long time to load.";throw t},isLoaded:function(e){var t,s=this,o=s.status;return!!o[e]||(t=s[e],"undefined"!=typeof t.complete?o[e]=t.complete:o[e]=!!i.imgWidth(t),o[e])}}}(jQuery),function(e){function t(t){e.extend(t,{complete:!1,map:null,base_canvas:null,overlay_canvas:null,commands:[],data:[],mapAreas:[],_xref:{},highlightId:-1,currentAreaId:-1,_tooltip_events:[],scaleInfo:null,index:-1,activeAreaEvent:null})}function i(e){return[e,e.render_highlight,e.render_select]}function s(t){var s=t.options,o=t.images;c.hasCanvas()&&(e.each(s.altImages||{},function(e,t){o.add(t,e)}),e.each([s].concat(s.areas),function(t,s){e.each(i(s),function(e,t){t&&t.altImage&&(t.altImageId=o.add(t.altImage))})})),t.area_options=h.updateProps({},c.area_defaults,s)}function o(e,t,i,s){function a(t){e.currentAreaId!==t&&e.highlightId>=0&&s.resolve()}if(s=s||h.when.defer(),e.activeAreaEvent&&(window.clearTimeout(e.activeAreaEvent),e.activeAreaEvent=0),!(t<0))return i.owner.currentAction||t?e.activeAreaEvent=window.setTimeout(function(){return function(){o(e,0,i,s)}}(i),t||100):a(i.areaId),s}function a(e){c.hasCanvas()||this.blur(),e.preventDefault()}function n(t,i){var s=t.getAllDataForArea(this),o=s.length?s[0]:null;!o||o.isNotRendered()||o.owner.currentAction||t.currentAreaId!==o.areaId&&(t.highlightId!==o.areaId&&(t.clearEffects(),o.highlight(),t.options.showToolTip&&e.each(s,function(e,t){t.effectiveOptions().toolTip&&t.showToolTip()})),t.currentAreaId=o.areaId,e.isFunction(t.options.onMouseover)&&t.options.onMouseover.call(this,{e:i,options:o.effectiveOptions(),key:o.key,selected:o.isSelected()}))}function r(t,i){var s,a=t.getDataForArea(this),n=t.options;t.currentAreaId<0||!a||(s=t.getDataForArea(i.relatedTarget),s!==a&&(t.currentAreaId=-1,a.area=null,o(t,n.mouseoutDelay,a).then(t.clearEffects),e.isFunction(n.onMouseout)&&n.onMouseout.call(this,{e:i,options:n,key:a.key,selected:a.isSelected()})))}function l(t){var i=t.options;t.ensureNoHighlight(),i.toolTipClose&&e.inArray("area-mouseout",i.toolTipClose)>=0&&t.activeToolTip&&t.clearToolTip()}function d(t,i){function s(a){var f,m;if(d=a.isSelectable()&&(a.isDeselectable()||!a.isSelected()),l=d?!a.isSelected():a.isSelected(),r=c.getBoundList(g,a.key),e.isFunction(g.onClick)&&(u=g.onClick.call(p,{e:i,listTarget:r,key:a.key,selected:l}),h.isBool(u))){if(!u)return!1;if(m=e(a.area).attr("href"),"#"!==m)return window.location.href=m,!1}d&&(o=a.toggle()),g.boundList&&g.boundList.length>0&&c.setBoundListProperties(g,r,a.isSelected()),f=a.effectiveOptions(),f.includeKeys&&(n=h.split(f.includeKeys),e.each(n,function(e,i){var o=t.getDataForKey(i.toString());o.options.isMask||s(o)}))}var o,n,r,l,d,u,p=this,f=t.getDataForArea(this),g=t.options;return a.call(this,i),g.clickNavigate&&f.href?void(window.location.href=f.href):void(f&&!f.owner.currentAction&&(g=t.options,s(f)))}var c=e.mapster,h=c.utils;c.MapData=function(e,i){var s=this;s.image=e,s.images=new c.MapImages(s),s.graphics=new c.Graphics(s),s.imgCssText=e.style.cssText||null,t(s),s.configureOptions(i),s.mouseover=function(e){n.call(this,s,e)},s.mouseout=function(e){r.call(this,s,e)},s.click=function(e){d.call(this,s,e)},s.clearEffects=function(e){l.call(this,s,e)}},c.MapData.prototype={constructor:c.MapData,configureOptions:function(e){this.options=h.updateProps({},c.defaults,e)},bindImages:function(){var e=this,t=e.images;return t.length>2?t.splice(2):0===t.length&&(t.add(e.image),t.add(e.image.src)),s(e),e.images.bind()},isActive:function(){return!this.complete||this.currentAction},state:function(){return{complete:this.complete,resizing:"resizing"===this.currentAction,zoomed:this.zoomed,zoomedArea:this.zoomedArea,scaleInfo:this.scaleInfo}},wrapId:function(){return"mapster_wrap_"+this.index},_idFromKey:function(e){return"string"==typeof e&&this._xref.hasOwnProperty(e)?this._xref[e]:-1},getSelected:function(){var t="";return e.each(this.data,function(e,i){i.isSelected()&&(t+=(t?",":"")+this.key)}),t},getAllDataForArea:function(t,i){var s,o,a,n=this,r=e(t).filter("area").attr(n.options.mapKey);if(r)for(a=[],r=h.split(r),s=0;s<(i||r.length);s++)o=n.data[n._idFromKey(r[s])],o.area=t.length?t[0]:t,a.push(o);return a},getDataForArea:function(e){var t=this.getAllDataForArea(e,1);return t?t[0]||null:null},getDataForKey:function(e){return this.data[this._idFromKey(e)]},getKeysForGroup:function(e){var t=this.getDataForKey(e);return t?t.isPrimary?t.key:this.getPrimaryKeysForMapAreas(t.areas()).join(","):""},getPrimaryKeysForMapAreas:function(t){var i=[];return e.each(t,function(t,s){e.inArray(s.keys[0],i)<0&&i.push(s.keys[0])}),i},getData:function(e){return"string"==typeof e?this.getDataForKey(e):e&&e.mapster||h.isElement(e)?this.getDataForArea(e):null},ensureNoHighlight:function(){var e;this.highlightId>=0&&(this.graphics.clearHighlight(),e=this.data[this.highlightId],e.changeState("highlight",!1),this.setHighlightId(-1))},setHighlightId:function(e){this.highlightId=e},clearSelections:function(){e.each(this.data,function(e,t){t.selected&&t.deselect(!0)}),this.removeSelectionFinish()},setAreaOptions:function(e){var t,i,s;for(e=e||[],t=e.length-1;t>=0;t--)i=e[t],i&&(s=this.getDataForKey(i.key),s&&(h.updateProps(s.options,i),h.isBool(i.selected)&&(s.selected=i.selected)))},drawSelections:function(e){var t,i=h.asArray(e);for(t=i.length-1;t>=0;t--)this.data[i[t]].drawSelection()},redrawSelections:function(){e.each(this.data,function(e,t){t.isSelectedOrStatic()&&t.drawSelection()})},initialize:function(){var t,i,s,o,a,n,r,l,d,u,p,f,g=this,m=g.options;if(!g.complete){for(d=e(g.image),a=d.parent().attr("id"),a&&a.length>=12&&"mapster_wrap"===a.substring(0,12)?(o=d.parent(),o.attr("id",g.wrapId())):(o=e('<div id="'+g.wrapId()+'"></div>'),m.wrapClass&&(m.wrapClass===!0?o.addClass(d[0].className):o.addClass(m.wrapClass))),g.wrapper=o,g.scaleInfo=f=h.scaleMap(g.images[0],g.images[1],m.scaleMap),g.base_canvas=i=g.graphics.createVisibleCanvas(g),g.overlay_canvas=s=g.graphics.createVisibleCanvas(g),t=e(g.images[1]).addClass("mapster_el "+g.images[0].className).attr({id:null,usemap:null}),l=h.size(g.images[0]),l.complete&&t.css({width:l.width,height:l.height}),g.buildDataset(),n={display:"block",position:"relative",padding:0,width:f.width,height:f.height},m.wrapCss&&e.extend(n,m.wrapCss),d.parent()[0]!==g.wrapper[0]&&d.before(g.wrapper),o.css(n),e(g.images.slice(2)).hide(),r=1;r<g.images.length;r++)o.append(g.images[r]);o.append(i).append(s).append(d.css(c.canvas_style)),h.setOpacity(g.images[0],0),e(g.images[1]).show(),h.setOpacity(g.images[1],1),m.isSelectable&&m.onGetList&&(p=g.data.slice(0),m.sortList&&(u="desc"===m.sortList?function(e,t){return e===t?0:e>t?-1:1}:function(e,t){return e===t?0:e<t?-1:1},p.sort(function(e,t){return e=e.value,t=t.value,u(e,t)})),g.options.boundList=m.onGetList.call(g.image,p)),g.complete=!0,g.processCommandQueue(),m.onConfigured&&"function"==typeof m.onConfigured&&m.onConfigured.call(d,!0)}},buildDataset:function(t){function i(e,t){var i=new c.AreaData(w,e,t);return i.areaId=w._xref[e]=w.data.push(i)-1,i.areaId}var s,o,a,n,r,l,d,h,u,p,f,g,m,v,y,w=this,b=w.options;for(w._xref={},w.data=[],t||(w.mapAreas=[]),y=!b.mapKey,y&&(b.mapKey="data-mapster-key"),s=c.hasVml()?"area":y?"area[coords]":"area["+b.mapKey+"]",o=e(w.map).find(s).unbind(".mapster"),f=0;f<o.length;f++)if(n=0,l=o[f],r=e(l),l.coords){for(y?(d=String(f),r.attr("data-mapster-key",d)):d=l.getAttribute(b.mapKey),t?(h=w.mapAreas[r.data("mapster")-1],h.configure(d)):(h=new c.MapArea(w,l,d),w.mapAreas.push(h)),p=h.keys,a=p.length-1;a>=0;a--)u=p[a],b.mapValue&&(g=r.attr(b.mapValue)),y?(n=i(w.data.length,g),m=w.data[n],m.key=u=n.toString()):(n=w._xref[u],n>=0?(m=w.data[n],g&&!w.data[n].value&&(m.value=g)):(n=i(u,g),m=w.data[n],m.isPrimary=0===a)),h.areaDataXref.push(n),m.areasXref.push(f);v=r.attr("href"),v&&"#"!==v&&!m.href&&(m.href=v),h.nohref||(r.bind("click.mapster",w.click),c.isTouch||r.bind("mouseover.mapster",w.mouseover).bind("mouseout.mapster",w.mouseout).bind("mousedown.mapster",w.mousedown)),r.data("mapster",f+1)}w.setAreaOptions(b.areas),w.redrawSelections()},processCommandQueue:function(){for(var e,t=this;!t.currentAction&&t.commands.length;)e=t.commands[0],t.commands.splice(0,1),c.impl[e.command].apply(e.that,e.args)},clearEvents:function(){e(this.map).find("area").unbind(".mapster"),e(this.images).unbind(".mapster")},_clearCanvases:function(t){t||e(this.base_canvas).remove(),e(this.overlay_canvas).remove()},clearMapData:function(t){var i=this;this._clearCanvases(t),e.each(this.data,function(e,t){t.reset()}),this.data=null,t||(this.image.style.cssText=this.imgCssText,e(this.wrapper).before(this.image).remove()),i.images.clear(),this.image=null,h.ifFunction(this.clearTooltip,this)},removeSelectionFinish:function(){var e=this.graphics;e.refreshSelections(),e.clearHighlight()}}}(jQuery),function(e){function t(t){var i=this,s=i.owner;s.options.singleSelect&&s.clearSelections(),i.isSelected()||(t&&(i.optsCache=e.extend(i.effectiveRenderOptions("select"),t,{altImageId:s.images.add(t.altImage)})),i.drawSelection(),i.selected=!0,i.changeState("select",!0)),s.options.singleSelect&&s.graphics.refreshSelections()}function i(e){var t=this;t.selected=!1,t.changeState("select",!1),t.optsCache=null,t.owner.graphics.removeSelections(t.areaId),e||t.owner.removeSelectionFinish()}function s(e){var t=this;return t.isSelected()?t.deselect():t.select(e),t.isSelected()}var o=e.mapster,a=o.utils;o.AreaData=function(t,i,s){e.extend(this,{owner:t,key:i||"",isPrimary:!0,areaId:-1,href:"",value:s||"",options:{},selected:null,areasXref:[],area:null,optsCache:null})},o.AreaData.prototype={constuctor:o.AreaData,select:t,deselect:i,toggle:s,areas:function(){var e,t=[];for(e=0;e<this.areasXref.length;e++)t.push(this.owner.mapAreas[this.areasXref[e]]);return t},coords:function(t){var i=[];return e.each(this.areas(),function(e,s){i=i.concat(s.coords(t))}),i},reset:function(){e.each(this.areas(),function(e,t){t.reset()}),this.areasXref=[],this.options=null},isSelectedOrStatic:function(){var e=this.effectiveOptions();return a.isBool(e.staticState)?e.staticState:this.isSelected()},isSelected:function(){return a.isBool(this.selected)?this.selected:!!a.isBool(this.owner.area_options.selected)&&this.owner.area_options.selected},isSelectable:function(){return!a.isBool(this.effectiveOptions().staticState)&&(!a.isBool(this.owner.options.staticState)&&a.boolOrDefault(this.effectiveOptions().isSelectable,!0))},isDeselectable:function(){return!a.isBool(this.effectiveOptions().staticState)&&(!a.isBool(this.owner.options.staticState)&&a.boolOrDefault(this.effectiveOptions().isDeselectable,!0))},isNotRendered:function(){var t=e(this.area);return t.attr("nohref")||!t.attr("href")||this.effectiveOptions().isMask},effectiveOptions:function(e){var t=a.updateProps({},this.owner.area_options,this.options,e||{},{id:this.areaId});return t.selected=this.isSelected(),t},effectiveRenderOptions:function(t,i){var s,o=this.optsCache;return o&&"highlight"!==t||(s=this.effectiveOptions(i),o=a.updateProps({},s,s["render_"+t]),"highlight"!==t&&(this.optsCache=o)),e.extend({},o)},changeState:function(t,i){e.isFunction(this.owner.options.onStateChange)&&this.owner.options.onStateChange.call(this.owner.image,{key:this.key,state:t,selected:i})},highlight:function(e){var t=this.owner;this.effectiveOptions().highlight&&t.graphics.addShapeGroup(this,"highlight",e),t.setHighlightId(this.areaId),this.changeState("highlight",!0)},drawSelection:function(){this.owner.graphics.addShapeGroup(this,"select")}},o.MapArea=function(t,i,s){if(t){var o=this;o.owner=t,o.area=i,o.areaDataXref=[],o.originalCoords=[],e.each(a.split(i.coords),function(e,t){o.originalCoords.push(parseFloat(t))}),o.length=o.originalCoords.length,o.shape=i.shape.toLowerCase(),o.nohref=i.nohref||!i.href,o.configure(s)}},o.MapArea.prototype={constructor:o.MapArea,configure:function(e){this.keys=a.split(e)},reset:function(){this.area=null},coords:function(t){return e.map(this.originalCoords,function(e){return t?e:e+t})}}}(jQuery),function(e){var t=e.mapster.utils;t.areaCorners=function(i,s,o,a,n){var r,l,d,c,h,u,p,f,g,m,v,y,w,b,_,x,C,$,T,k,S=0,D=0,M=[];for(i=i.length?i:[i],o=e(o?o:document.body),r=o.offset(),_=r.left,x=r.top,s&&(r=e(s).offset(),S=r.left,D=r.top),b=0;b<i.length;b++)if(k=i[b],"AREA"===k.nodeName){switch(C=t.split(k.coords,parseInt),k.shape){case"circle":for(v=C[0],y=C[1],$=C[2],M=[],b=0;b<360;b+=20)T=b*Math.PI/180,M.push(v+$*Math.cos(T),y+$*Math.sin(T));break;case"rect":M.push(C[0],C[1],C[2],C[1],C[2],C[3],C[0],C[3]);break;default:M=M.concat(C)}for(b=0;b<M.length;b+=2)M[b]=parseInt(M[b],10)+S,M[b+1]=parseInt(M[b+1],10)+D}else k=e(k),r=k.position(),M.push(r.left,r.top,r.left+k.width(),r.top,r.left+k.width(),r.top+k.height(),r.left,r.top+k.height());for(d=c=p=g=999999,h=u=f=m=-1,b=M.length-2;b>=0;b-=2)v=M[b],y=M[b+1],v<d&&(d=v,m=y),v>h&&(h=v,g=y),y<c&&(c=y,f=v),y>u&&(u=y,p=v);return a&&n&&(l=!1,e.each([[f-a,c-n],[p,c-n],[d-a,m-n],[d-a,g],[h,m-n],[h,g],[f-a,u],[p,u]],function(e,t){if(!l&&t[0]>_&&t[1]>x)return w=t,l=!0,!1}),l||(w=[h,u])),w}}(jQuery),function(e){var t=e.mapster,i=t.utils,s=t.MapArea.prototype;t.utils.getScaleInfo=function(e,t){var i;return t?(i=e.width/t.width||e.height/t.height,i>.98&&i<1.02&&(i=1)):(i=1,t=e),{scale:1!==i,scalePct:i,realWidth:t.width,realHeight:t.height,width:e.width,height:e.height,ratio:e.width/e.height}},t.utils.scaleMap=function(e,t,s){var o=i.size(e),a=i.size(t,!0);if(!a.complete())throw"Another script, such as an extension, appears to be interfering with image loading. Please let us know about this.";return o.complete()||(o=a),this.getScaleInfo(o,s?a:null)},t.MapData.prototype.resize=function(s,o,a,n){function r(i,s,o){t.hasCanvas()?(i.width=s,i.height=o):(e(i).width(s),e(i).height(o))}function l(){v.currentAction="",e.isFunction(n)&&n(),v.processCommandQueue()}function d(){if(r(v.overlay_canvas,s,o),g>=0){var e=v.data[g];e.tempOptions={fade:!1},v.getDataForKey(e.key).highlight(),e.tempOptions=null}r(v.base_canvas,s,o),v.redrawSelections(),l()}function c(){e(v.image).css(p),v.scaleInfo=i.getScaleInfo({width:s,height:o},{width:v.scaleInfo.realWidth,height:v.scaleInfo.realHeight}),e.each(v.data,function(t,i){e.each(i.areas(),function(e,t){t.resize()})})}var h,u,p,f,g,m,v=this;n=n||a,v.scaleInfo.width===s&&v.scaleInfo.height===o||(g=v.highlightId,s||(m=o/v.scaleInfo.realHeight,s=Math.round(v.scaleInfo.realWidth*m)),o||(m=s/v.scaleInfo.realWidth,o=Math.round(v.scaleInfo.realHeight*m)),p={width:String(s)+"px",height:String(o)+"px"},t.hasCanvas()||e(v.base_canvas).children().remove(),f=e(v.wrapper).find(".mapster_el").add(v.wrapper),a?(u=[],v.currentAction="resizing",f.each(function(t,s){h=i.defer(),u.push(h),e(s).animate(p,{duration:a,complete:h.resolve,easing:"linear"})}),h=i.defer(),u.push(h),i.when.all(u).then(d),c(),h.resolve()):(f.css(p),c(),d()))},t.MapArea=i.subclass(t.MapArea,function(){this.base.init(),this.owner.scaleInfo.scale&&this.resize()}),s.coords=function(e,t){var i,s=[],o=e||this.owner.scaleInfo.scalePct,a=t||0;if(1===o&&0===t)return this.originalCoords;for(i=0;i<this.length;i++)s.push(Math.round(this.originalCoords[i]*o)+a);return s},s.resize=function(){this.area.coords=this.coords().join(",")},s.reset=function(){this.area.coords=this.coords(1).join(",")},t.impl.resize=function(e,i,s,o){if(!e&&!i)return!1;var a=new t.Method(this,function(){this.resize(e,i,s,o)},null,{name:"resize",args:arguments}).go();return a}}(jQuery),function(e){function t(t,i,s){var o;return i?(o="string"==typeof i?e(i):e(i).clone(),o.append(t)):o=e(t),o.css(e.extend(s||{},{display:"block",position:"absolute"})).hide(),e("body").append(o),o.attr("data-opacity",o.css("opacity")).css("opacity",0),o.show()}function i(e,t){var i={left:t.left+"px",top:t.top+"px"},s=e.attr("data-opacity")||0,o=e.css("z-index");0!==parseInt(o,10)&&"auto"!==o||(i["z-index"]=9999),e.css(i).addClass("mapster_tooltip"),t.fadeDuration&&t.fadeDuration>0?r.fader(e[0],0,s,t.fadeDuration):r.setOpacity(e[0],s)}function s(t,i,s,o,a,n){var r=s+".mapster-tooltip";if(e.inArray(i,t)>=0)return o.unbind(r).bind(r,function(e){a&&!a.call(this,e)||(o.unbind(".mapster-tooltip"),n&&n.call(this))}),{object:o,event:r}}function o(e,t,s,o,a){var n,l={};return a=a||{},t?(n=r.areaCorners(t,s,o,e.outerWidth(!0),e.outerHeight(!0)),l.left=n[0],l.top=n[1]):(l.left=a.left,l.top=a.top),l.left+=a.offsetx||0,l.top+=a.offsety||0,l.css=a.css,l.fadeDuration=a.fadeDuration,i(e,l),e}function a(e){return e?"string"==typeof e||e.jquery?e:e.content:null}var n=e.mapster,r=n.utils;e.extend(n.defaults,{toolTipContainer:'<div style="border: 2px solid black; background: #EEEEEE; width:160px; padding:4px; margin: 4px; -moz-box-shadow: 3px 3px 5px #535353; -webkit-box-shadow: 3px 3px 5px #535353; box-shadow: 3px 3px 5px #535353; -moz-border-radius: 6px 6px 6px 6px; -webkit-border-radius: 6px; border-radius: 6px 6px 6px 6px; opacity: 0.9;"></dteniv>',showToolTip:!1,toolTipFade:!0,toolTipClose:["area-mouseout","image-mouseout"],onShowToolTip:null,onHideToolTip:null}),e.extend(n.area_defaults,{toolTip:null,toolTipClose:null}),n.MapData.prototype.clearToolTip=function(){this.activeToolTip&&(this.activeToolTip.stop().remove(),this.activeToolTip=null,this.activeToolTipID=null,r.ifFunction(this.options.onHideToolTip,this))},n.AreaData.prototype.showToolTip=function(i,a){var n,l,d,c,h,u={},p=this,f=p.owner,g=p.effectiveOptions();if(a=a?e.extend({},a):{},i=i||g.toolTip,l=a.closeEvents||g.toolTipClose||f.options.toolTipClose||"tooltip-click",h="undefined"!=typeof a.template?a.template:f.options.toolTipContainer,a.closeEvents="string"==typeof l?l=r.split(l):l,a.fadeDuration=a.fadeDuration||(f.options.toolTipFade?f.options.fadeDuration||g.fadeDuration:0),d=p.area?p.area:e.map(p.areas(),function(e){return e.area}),f.activeToolTipID!==p.areaId)return f.clearToolTip(),f.activeToolTip=n=t(i,h,a.css),f.activeToolTipID=p.areaId,c=function(){f.clearToolTip()},s(l,"area-click","click",e(f.map),null,c),s(l,"tooltip-click","click",n,null,c),s(l,"image-mouseout","mouseout",e(f.image),function(e){return e.relatedTarget&&"AREA"!==e.relatedTarget.nodeName&&e.relatedTarget!==p.area},c),o(n,d,f.image,a.container,h,a),r.ifFunction(f.options.onShowToolTip,p.area,{toolTip:n,options:u,areaOptions:g,key:p.key,selected:p.isSelected()}),n},n.impl.tooltip=function(i,r){return new n.Method(this,function(){var n,l,d=this;if(i){if(l=e(i),d.activeToolTipID===l[0])return;d.clearToolTip(),d.activeToolTip=n=t(a(r),r.template||d.options.toolTipContainer,r.css),d.activeToolTipID=l[0],s(["tooltip-click"],"tooltip-click","click",n,null,function(){d.clearToolTip()}),d.activeToolTip=n=o(n,l,d.image,r.container,r)}else d.clearToolTip()},function(){e.isPlainObject(i)&&!r&&(r=i),this.showToolTip(a(r),r)},{name:"tooltip",args:arguments,key:i}).go()}}(jQuery),!function(e){function t(){for(var e=new Date(this.toString()),t=28,i=e.getMonth();e.getMonth()==i;)++t,e.setDate(t);return t-1}e.addDays=function(e){this.setDate(this.getDate()+e)},e.addMonths=function(e){var i=this.getDate();this.setDate(1),this.setMonth(this.getMonth()+e),
this.setDate(Math.min(i,t.apply(this)))},e.addYears=function(e){var i=this.getDate();this.setDate(1),this.setFullYear(this.getFullYear()+e),this.setDate(Math.min(i,t.apply(this)))},e.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),t=new Date(this.getFullYear(),0,0,0,0,0),i=e-t;return Math.floor(i/24*60*60*1e3)}}(Date.prototype),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(){var t,i,o,a,n,r,l,d=e(this).data("pickmeup-options"),c=this.pickmeup,h=Math.floor(d.calendars/2),u=d.date,p=d.current,f=d.min?new Date(d.min):null,g=d.max?new Date(d.max):null,m=(new Date).setHours(0,0,0,0).valueOf();f&&(f.setDate(1),f.addMonths(1),f.addDays(-1)),g&&(g.setDate(1),g.addMonths(1),g.addDays(-1)),c.find(".pmu-instance > :not(nav)").remove();for(var v=0;v<d.calendars;v++)if(t=new Date(p),a=c.find(".pmu-instance").eq(v),c.hasClass("pmu-view-years")?(t.addYears(12*(v-h)),i=t.getFullYear()-6+" - "+(t.getFullYear()+5)):c.hasClass("pmu-view-months")?(t.addYears(v-h),i=t.getFullYear()):c.hasClass("pmu-view-days")&&(t.addMonths(v-h),i=s(t,d.title_format,d.locale)),!r&&g&&(l=new Date(t),d.select_day?l.addMonths(d.calendars-1):d.select_month?l.addYears(d.calendars-1):l.addYears(12*(d.calendars-1)),l>g))--v,p.addMonths(-1),r=void 0;else if(r=new Date(t),!n&&(n=new Date(t),n.setDate(1),n.addMonths(1),n.addDays(-1),f&&f>n))--v,p.addMonths(1),n=void 0;else{a.find(".pmu-month").text(i),o="";var y=function(e){return"range"==d.mode&&e>=new Date(u[0]).getFullYear()&&e<=new Date(u[1]).getFullYear()||"multiple"==d.mode&&-1!==u.reduce(function(e,t){return e.push(new Date(t).getFullYear()),e},[]).indexOf(e)||new Date(u).getFullYear()==e},b=function(e,t){var i=new Date(u[0]).getFullYear(),s=new Date(u[1]).getFullYear(),o=new Date(u[0]).getMonth(),a=new Date(u[1]).getMonth();return"range"==d.mode&&e>i&&s>e||"range"==d.mode&&e==i&&s>e&&t>=o||"range"==d.mode&&e>i&&e==s&&a>=t||"range"==d.mode&&e==i&&e==s&&t>=o&&a>=t||"multiple"==d.mode&&-1!==u.reduce(function(e,t){return t=new Date(t),e.push(t.getFullYear()+"-"+t.getMonth()),e},[]).indexOf(e+"-"+t)||new Date(u).getFullYear()==e&&new Date(u).getMonth()==t};!function(){for(var e,i=[],s=t.getFullYear()-6,a=new Date(d.min).getFullYear(),n=new Date(d.max).getFullYear(),r=0;12>r;++r)e={text:s+r,class_name:[]},d.min&&e.text<a||d.max&&e.text>n?e.class_name.push("pmu-disabled"):y(e.text)&&e.class_name.push("pmu-selected"),e.class_name=e.class_name.join(" "),i.push(e);o+=w.body(i,"pmu-years")}(),function(){for(var e,i=[],s=t.getFullYear(),a=new Date(d.min).getFullYear(),n=new Date(d.min).getMonth(),r=new Date(d.max).getFullYear(),l=new Date(d.max).getMonth(),c=0;12>c;++c)e={text:d.locale.monthsShort[c],class_name:[]},d.min&&(a>s||n>c&&s==a)||d.max&&(s>r||c>l&&s>=r)?e.class_name.push("pmu-disabled"):b(s,c)&&e.class_name.push("pmu-selected"),e.class_name=e.class_name.join(" "),i.push(e);o+=w.body(i,"pmu-months")}(),function(){var i,s=[],a=t.getMonth();!function(){t.setDate(1);var e=(t.getDay()-d.first_day)%7;t.addDays(-(e+(0>e?7:0)))}();for(var n=0;42>n;++n){i={text:t.getDate(),class_name:[]},a!=t.getMonth()&&i.class_name.push("pmu-not-in-month"),0==t.getDay()?i.class_name.push("pmu-sunday"):6==t.getDay()&&i.class_name.push("pmu-saturday");var r=d.render(new Date(t))||{},l=t.valueOf(),c=d.min&&d.min>t||d.max&&d.max<t;r.disabled||c?i.class_name.push("pmu-disabled"):(r.selected||d.date==l||-1!==e.inArray(l,d.date)||"range"==d.mode&&l>=d.date[0]&&l<=d.date[1])&&i.class_name.push("pmu-selected"),l==m&&i.class_name.push("pmu-today"),r.class_name&&i.class_name.push(r.class_name),i.class_name=i.class_name.join(" "),s.push(i),t.addDays(1)}o+=w.body(s,"pmu-days")}(),a.append(o)}n.setDate(1),r.setDate(1),r.addMonths(1),r.addDays(-1),c.find(".pmu-prev").css("visibility",d.min&&d.min>=n?"hidden":"visible"),c.find(".pmu-next").css("visibility",d.max&&d.max<=r?"hidden":"visible"),d.fill.apply(this)}function i(t,s,o,a){if(t.constructor==Date)return t;if(!t)return new Date;var n=t.split(o);if(n.length>1)return n.forEach(function(t,n,r){r[n]=i(e.trim(t),s,o,a)}),n;var r=a.monthsShort.join(")(")+")("+a.months.join(")(");o=new RegExp("[^0-9a-zA-Z("+r+")]+");for(var l,d,c,h,u,p=t.split(o),f=s.split(o),g=new Date,m=0;m<p.length;m++)switch(f[m]){case"b":d=a.monthsShort.indexOf(p[m]);break;case"B":d=a.months.indexOf(p[m]);break;case"d":case"e":l=parseInt(p[m],10);break;case"m":d=parseInt(p[m],10)-1;break;case"Y":case"y":c=parseInt(p[m],10),c+=c>100?0:29>c?2e3:1900;break;case"H":case"I":case"k":case"l":h=parseInt(p[m],10);break;case"P":case"p":/pm/i.test(p[m])&&12>h?h+=12:/am/i.test(p[m])&&h>=12&&(h-=12);break;case"M":u=parseInt(p[m],10)}var v=new Date(void 0===c?g.getFullYear():c,void 0===d?g.getMonth():d,void 0===l?g.getDate():l,void 0===h?g.getHours():h,void 0===u?g.getMinutes():u,0);return isNaN(1*v)&&(v=new Date),v}function s(e,t,i){var s=e.getMonth(),o=e.getDate(),a=e.getFullYear(),n=e.getDay(),r=e.getHours(),l=r>=12,d=l?r-12:r,c=e.getDayOfYear();0==d&&(d=12);for(var h,u=e.getMinutes(),p=e.getSeconds(),f=t.split(""),g=0;g<f.length;g++){switch(h=f[g]){case"a":h=i.daysShort[n];break;case"A":h=i.days[n];break;case"b":h=i.monthsShort[s];break;case"B":h=i.months[s];break;case"C":h=1+Math.floor(a/100);break;case"d":h=10>o?"0"+o:o;break;case"e":h=o;break;case"H":h=10>r?"0"+r:r;break;case"I":h=10>d?"0"+d:d;break;case"j":h=100>c?10>c?"00"+c:"0"+c:c;break;case"k":h=r;break;case"l":h=d;break;case"m":h=9>s?"0"+(1+s):1+s;break;case"M":h=10>u?"0"+u:u;break;case"p":case"P":h=l?"PM":"AM";break;case"s":h=Math.floor(e.getTime()/1e3);break;case"S":h=10>p?"0"+p:p;break;case"u":h=n+1;break;case"w":h=n;break;case"y":h=(""+a).substr(2,2);break;case"Y":h=a}f[g]=h}return f.join("")}function o(){var t,i=e(this),s=i.data("pickmeup-options"),o=s.current;switch(s.mode){case"multiple":t=o.setHours(0,0,0,0).valueOf(),-1!==e.inArray(t,s.date)?e.each(s.date,function(e,i){return i!=t||(s.date.splice(e,1),!1)}):s.date.push(t);break;case"range":s.lastSel||(s.date[0]=o.setHours(0,0,0,0).valueOf()),t=o.setHours(0,0,0,0).valueOf(),t<=s.date[0]?(s.date[1]=s.date[0],s.date[0]=t):s.date[1]=t,s.lastSel=!s.lastSel;break;default:s.date=o.valueOf()}var a=n(s);return i.is("input")&&i.val("single"==s.mode?a[0]:a[0].join(s.separator)),s.change.apply(this,a),s.flat||!s.hide_on_select||"range"==s.mode&&s.lastSel?void 0:(s.binded.hide(),!1)}function a(t){var i=e(t.target);if(i.hasClass("pmu-button")||(i=i.closest(".pmu-button")),i.length){if(i.hasClass("pmu-disabled"))return!1;var s=e(this),o=s.data("pickmeup-options"),a=i.parents(".pmu-instance").eq(0),n=a.parent(),r=e(".pmu-instance",n).index(a);if(i.parent().is("nav"))i.hasClass("pmu-month")?(o.current.addMonths(r-Math.floor(o.calendars/2)),n.hasClass("pmu-view-years")?("single"!=o.mode?o.current=new Date(o.date[o.date.length-1]):o.current=new Date(o.date),o.select_day?n.removeClass("pmu-view-years").addClass("pmu-view-days"):o.select_month&&n.removeClass("pmu-view-years").addClass("pmu-view-months")):n.hasClass("pmu-view-months")?o.select_year?n.removeClass("pmu-view-months").addClass("pmu-view-years"):o.select_day&&n.removeClass("pmu-view-months").addClass("pmu-view-days"):n.hasClass("pmu-view-days")&&(o.select_month?n.removeClass("pmu-view-days").addClass("pmu-view-months"):o.select_year&&n.removeClass("pmu-view-days").addClass("pmu-view-years"))):i.hasClass("pmu-prev")?o.binded.prev(!1):o.binded.next(!1);else if(!i.hasClass("pmu-disabled"))if(n.hasClass("pmu-view-years"))o.current.setFullYear(parseInt(i.text(),10)),o.select_month?n.removeClass("pmu-view-years").addClass("pmu-view-months"):o.select_day?n.removeClass("pmu-view-years").addClass("pmu-view-days"):o.binded.update_date();else if(n.hasClass("pmu-view-months"))o.current.setMonth(a.find(".pmu-months .pmu-button").index(i)),o.current.setFullYear(parseInt(a.find(".pmu-month").text(),10)),o.select_day?n.removeClass("pmu-view-months").addClass("pmu-view-days"):o.binded.update_date(),o.current.addMonths(Math.floor(o.calendars/2)-r);else{var l=parseInt(i.text(),10);o.current.addMonths(r-Math.floor(o.calendars/2)),i.hasClass("pmu-not-in-month")&&o.current.addMonths(l>15?-1:1),o.current.setDate(l),o.binded.update_date()}o.binded.fill()}return!1}function n(t){var i;return"single"==t.mode?(i=new Date(t.date),[s(i,t.format,t.locale),i]):(i=[[],[]],e.each(t.date,function(e,o){var a=new Date(o);i[0].push(s(a,t.format,t.locale)),i[1].push(a)}),i)}function r(t){var s=this.pickmeup;if(t||!s.is(":visible")){var o=e(this),a=o.data("pickmeup-options"),n=o.offset(),r={l:document.documentElement.scrollLeft,t:document.documentElement.scrollTop,w:document.documentElement.clientWidth,h:document.documentElement.clientHeight},l=n.top,d=n.left;if(a.binded.fill(),o.is("input")&&(o.pickmeup("set_date",i(o.val()?o.val():a.default_date,a.format,a.separator,a.locale)).keydown(function(e){9==e.which&&o.pickmeup("hide")}),a.lastSel=!1),a.before_show(),0==a.show())return;if(!a.flat){switch(a.position){case"top":l-=s.outerHeight();break;case"left":d-=s.outerWidth();break;case"right":d+=this.offsetWidth;break;case"bottom":l+=this.offsetHeight}l+s.offsetHeight>r.t+r.h&&(l=n.top-s.offsetHeight),l<r.t&&(l=n.top+this.offsetHeight+s.offsetHeight),d+s.offsetWidth>r.l+r.w&&(d=n.left-s.offsetWidth),d<r.l&&(d=n.left+this.offsetWidth),s.css({display:"inline-block",top:l+"px",left:d+"px"}),e(document).on("mousedown"+a.events_namespace+" touchstart"+a.events_namespace,a.binded.hide).on("resize"+a.events_namespace,[!0],a.binded.forced_show)}}}function l(){r.call(this,!0)}function d(t){if(!t||!t.target||t.target!=this&&!(16&this.pickmeup.get(0).compareDocumentPosition(t.target))){var i=this.pickmeup,s=e(this).data("pickmeup-options");0!=s.hide()&&(i.hide(),e(document).off("mousedown touchstart",s.binded.hide).off("resize",s.binded.forced_show),s.lastSel=!1)}}function c(){var t=e(this).data("pickmeup-options");e(document).off("mousedown",t.binded.hide).off("resize",t.binded.forced_show),t.binded.forced_show()}function h(){var t=e(this).data("pickmeup-options");"single"!=t.mode&&(t.date=[],t.lastSel=!1,t.binded.fill())}function u(t){"undefined"==typeof t&&(t=!0);var i=this.pickmeup,s=e(this).data("pickmeup-options");i.hasClass("pmu-view-years")?s.current.addYears(-12):i.hasClass("pmu-view-months")?s.current.addYears(-1):i.hasClass("pmu-view-days")&&s.current.addMonths(-1),t&&s.binded.fill()}function p(t){"undefined"==typeof t&&(t=!0);var i=this.pickmeup,s=e(this).data("pickmeup-options");i.hasClass("pmu-view-years")?s.current.addYears(12):i.hasClass("pmu-view-months")?s.current.addYears(1):i.hasClass("pmu-view-days")&&s.current.addMonths(1),t&&s.binded.fill()}function f(t){var i=e(this).data("pickmeup-options"),o=n(i);if("string"==typeof t){var a=o[1];return a.constructor==Date?s(a,t,i.locale):a.map(function(e){return s(e,t,i.locale)})}return o[t?0:1]}function g(t){var s=e(this),o=s.data("pickmeup-options");if(o.date=t,"string"==typeof o.date?o.date=i(o.date,o.format,o.separator,o.locale).setHours(0,0,0,0):o.date.constructor==Date&&o.date.setHours(0,0,0,0),o.date||(o.date=new Date,o.date.setHours(0,0,0,0)),"single"!=o.mode)if(o.date.constructor!=Array)o.date=[o.date.valueOf()],"range"==o.mode&&o.date.push(new Date(o.date[0]).setHours(0,0,0,0).valueOf());else{for(var a=0;a<o.date.length;a++)o.date[a]=i(o.date[a],o.format,o.separator,o.locale).setHours(0,0,0,0).valueOf();"range"==o.mode&&(o.date[1]=new Date(o.date[1]).setHours(0,0,0,0).valueOf())}else(s.val()||o.default_date!==!1)&&(o.date=o.date.constructor==Array?o.date[0].valueOf():o.date.valueOf());if(o.current=new Date("single"!=o.mode?o.date[0]:o.date),o.binded.fill(),s.is("input")&&o.default_date!==!1){var r=n(o);s.val()||o.change.apply(this,r),s.val("single"==o.mode?r[0]:r[0].join(o.separator))}}function m(){var t=e(this),i=t.data("pickmeup-options");t.removeData("pickmeup-options"),t.off(i.events_namespace),e(document).off(i.events_namespace),e(this.pickmeup).remove()}var v=0;e.pickmeup=e.extend(e.pickmeup||{},{date:new Date,default_date:new Date,flat:!1,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:!0,select_month:!0,select_day:!0,view:"days",calendars:1,format:"d-m-Y",title_format:"B, Y",position:"bottom",trigger_event:"click touchstart",class_name:"",separator:" - ",hide_on_select:!1,min:null,max:null,render:function(){},change:function(){return!0},before_show:function(){return!0},show:function(){return!0},hide:function(){return!0},fill:function(){return!0},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}});var y={years:"pmu-view-years",months:"pmu-view-months",days:"pmu-view-days"},w={wrapper:'<div class="pickmeup" />',head:function(e){for(var t="",i=0;7>i;++i)t+="<div>"+e.day[i]+"</div>";return'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+e.prev+'</div><div class="pmu-month pmu-button" /><div class="pmu-next pmu-button">'+e.next+'</div></nav><nav class="pmu-day-of-week">'+t+"</nav></div>"},body:function(e,t){for(var i="",s=0;s<e.length;++s)i+='<div class="'+e[s].class_name+' pmu-button">'+e[s].text+"</div>";return'<div class="'+t+'">'+i+"</div>"}};e.fn.pickmeup=function(s){if("string"==typeof s){var n,b=Array.prototype.slice.call(arguments,1);switch(s){case"hide":case"show":case"clear":case"update":case"prev":case"next":case"destroy":this.each(function(){n=e(this).data("pickmeup-options"),n&&n.binded[s]()});break;case"get_date":return n=this.data("pickmeup-options"),n?n.binded.get_date(b[0]):null;case"set_date":this.each(function(){n=e(this).data("pickmeup-options"),n&&n.binded[s].apply(this,b)})}return this}return this.each(function(){var n=e(this);if(!n.data("pickmeup-options")){var b,_,x=e.extend({},e.pickmeup,s||{});for(b in x)_=n.data("pmu-"+b),"undefined"!=typeof _&&(x[b]=_);if("days"!=x.view||x.select_day||(x.view="months"),"months"!=x.view||x.select_month||(x.view="years"),"years"!=x.view||x.select_year||(x.view="days"),"days"!=x.view||x.select_day||(x.view="months"),x.calendars=Math.max(1,parseInt(x.calendars,10)||1),x.mode=/single|multiple|range/.test(x.mode)?x.mode:"single","string"==typeof x.min?x.min=i(x.min,x.format,x.separator,x.locale).setHours(0,0,0,0):x.min&&x.min.constructor==Date&&x.min.setHours(0,0,0,0),"string"==typeof x.max?x.max=i(x.max,x.format,x.separator,x.locale).setHours(0,0,0,0):x.max&&x.max.constructor==Date&&x.max.setHours(0,0,0,0),x.select_day||(x.min&&(x.min=new Date(x.min),x.min.setDate(1),x.min=x.min.valueOf()),x.max&&(x.max=new Date(x.max),x.max.setDate(1),x.max=x.max.valueOf())),"string"==typeof x.date?x.date=i(x.date,x.format,x.separator,x.locale).setHours(0,0,0,0):x.date.constructor==Date&&x.date.setHours(0,0,0,0),x.date||(x.date=new Date,x.date.setHours(0,0,0,0)),"single"!=x.mode){if(x.date.constructor!=Array)x.date=[x.date.valueOf()],"range"==x.mode&&x.date.push(new Date(x.date[0]).setHours(0,0,0,0).valueOf());else{for(b=0;b<x.date.length;b++)x.date[b]=i(x.date[b],x.format,x.separator,x.locale).setHours(0,0,0,0).valueOf();"range"==x.mode&&(x.date[1]=new Date(x.date[1]).setHours(0,0,0,0).valueOf())}if(x.current=new Date(x.date[x.date.length-1]),!x.select_day)for(b=0;b<x.date.length;++b)x.date[b]=new Date(x.date[b]),x.date[b].setDate(1),x.date[b]=x.date[b].valueOf(),"range"!=x.mode&&x.date.indexOf(x.date[b])!==b&&(delete x.date.splice(b,1),--b)}else x.date=x.date.valueOf(),x.current=new Date(x.date),x.select_day||(x.date=new Date(x.date),x.date.setDate(1),x.date=x.date.valueOf());x.current.setDate(1),x.current.setHours(0,0,0,0);var C,$=e(w.wrapper);this.pickmeup=$,x.class_name&&$.addClass(x.class_name);var T="";for(b=0;b<x.calendars;b++)C=x.first_day,T+=w.head({prev:x.prev,next:x.next,day:[x.locale.daysMin[C++%7],x.locale.daysMin[C++%7],x.locale.daysMin[C++%7],x.locale.daysMin[C++%7],x.locale.daysMin[C++%7],x.locale.daysMin[C++%7],x.locale.daysMin[C++%7]]});n.data("pickmeup-options",x);for(b in x)-1!=["render","change","before_show","show","hide"].indexOf(b)&&(x[b]=x[b].bind(this));if(x.binded={fill:t.bind(this),update_date:o.bind(this),click:a.bind(this),show:r.bind(this),forced_show:l.bind(this),hide:d.bind(this),update:c.bind(this),clear:h.bind(this),prev:u.bind(this),next:p.bind(this),get_date:f.bind(this),set_date:g.bind(this),destroy:m.bind(this)},x.events_namespace=".pickmeup-"+ ++v,$.on("click touchstart",x.binded.click).addClass(y[x.view]).append(T).on(e.support.selectstart?"selectstart":"mousedown",function(e){e.preventDefault()}),x.binded.fill(),x.flat)$.appendTo(this).css({position:"relative",display:"inline-block"});else{$.appendTo(document.body);var k=x.trigger_event.split(" ");for(b=0;b<k.length;++b)k[b]+=x.events_namespace;k=k.join(" "),n.on(k,x.binded.show)}}})}}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(){"use strict";function t(t,s){if(this.el=t,this.$el=e(t),this.s=e.extend({},i,s),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.s.dynamic?this.$items=this.s.dynamicEl:"this"===this.s.selector?this.$items=this.$el:""!==this.s.selector?this.s.selectWithin?this.$items=e(this.s.selectWithin).find(this.s.selector):this.$items=this.$el.find(e(this.s.selector)):this.$items=this.$el.children(),this.$slide="",this.$outer="",this.init(),this}var i={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};t.prototype.init=function(){var t=this;t.s.preload>t.$items.length&&(t.s.preload=t.$items.length);var i=window.location.hash;i.indexOf("lg="+this.s.galleryId)>0&&(t.index=parseInt(i.split("&slide=")[1],10),e("body").addClass("lg-from-hash"),e("body").hasClass("lg-on")||(setTimeout(function(){t.build(t.index)}),e("body").addClass("lg-on"))),t.s.dynamic?(t.$el.trigger("onBeforeOpen.lg"),t.index=t.s.index||0,e("body").hasClass("lg-on")||setTimeout(function(){t.build(t.index),e("body").addClass("lg-on")})):t.$items.on("click.lgcustom",function(i){try{i.preventDefault(),i.preventDefault()}catch(s){i.returnValue=!1}t.$el.trigger("onBeforeOpen.lg"),t.index=t.s.index||t.$items.index(this),e("body").hasClass("lg-on")||(t.build(t.index),e("body").addClass("lg-on"))})},t.prototype.build=function(t){var i=this;i.structure(),e.each(e.fn.lightGallery.modules,function(t){i.modules[t]=new e.fn.lightGallery.modules[t](i.el)}),i.slide(t,!1,!1,!1),i.s.keyPress&&i.keyPress(),i.$items.length>1?(i.arrow(),setTimeout(function(){i.enableDrag(),i.enableSwipe()},50),i.s.mousewheel&&i.mousewheel()):i.$slide.on("click.lg",function(){i.$el.trigger("onSlideClick.lg")}),i.counter(),i.closeGallery(),i.$el.trigger("onAfterOpen.lg"),i.$outer.on("mousemove.lg click.lg touchstart.lg",function(){i.$outer.removeClass("lg-hide-items"),clearTimeout(i.hideBartimeout),i.hideBartimeout=setTimeout(function(){i.$outer.addClass("lg-hide-items")},i.s.hideBarsDelay)}),i.$outer.trigger("mousemove.lg")},t.prototype.structure=function(){var t,i="",s="",o=0,a="",n=this;for(e("body").append('<div class="lg-backdrop"></div>'),e(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),o=0;o<this.$items.length;o++)i+='<div class="lg-item"></div>';if(this.s.controls&&this.$items.length>1&&(s='<div class="lg-actions"><button class="lg-prev lg-icon">'+this.s.prevHtml+'</button><button class="lg-next lg-icon">'+this.s.nextHtml+"</button></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(a='<div class="lg-sub-html"></div>'),t='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+i+'</div><div class="lg-toolbar lg-group"><span class="lg-close lg-icon"></span></div>'+s+a+"</div></div>",e("body").append(t),this.$outer=e(".lg-outer"),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),n.setTop(),e(window).on("resize.lg orientationchange.lg",function(){setTimeout(function(){n.setTop()},100)}),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&this.$items.length>1&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()){var r=this.$outer.find(".lg-inner");r.css("transition-timing-function",this.s.cssEasing),r.css("transition-duration",this.s.speed+"ms")}setTimeout(function(){e(".lg-backdrop").addClass("in")}),setTimeout(function(){n.$outer.addClass("lg-visible")},this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=e(window).scrollTop()},t.prototype.setTop=function(){if("100%"!==this.s.height){var t=e(window).height(),i=(t-parseInt(this.s.height,10))/2,s=this.$outer.find(".lg");t>=parseInt(this.s.height,10)?s.css("top",i+"px"):s.css("top","0px")}},t.prototype.doCss=function(){var e=function(){var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],t=document.documentElement,i=0;for(i=0;i<e.length;i++)if(e[i]in t.style)return!0};return!!e()},t.prototype.isVideo=function(e,t){var i;if(i=this.s.dynamic?this.s.dynamicEl[t].html:this.$items.eq(t).attr("data-html"),!e)return i?{html5:!0}:(console.error("lightGallery :- data-src is not pvovided on slide item "+(t+1)+". Please make sure the selector property is properly configured. More info - http://sachinchoolur.github.io/lightGallery/demos/html-markup.html"),!1);var s=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),o=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),a=e.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),n=e.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return s?{youtube:s}:o?{vimeo:o}:a?{dailymotion:a}:n?{vk:n}:void 0},t.prototype.counter=function(){this.s.counter&&e(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")},t.prototype.addHtml=function(t){var i,s,o=null;if(this.s.dynamic?this.s.dynamicEl[t].subHtmlUrl?i=this.s.dynamicEl[t].subHtmlUrl:o=this.s.dynamicEl[t].subHtml:(s=this.$items.eq(t),s.attr("data-sub-html-url")?i=s.attr("data-sub-html-url"):(o=s.attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!o&&(o=s.attr("title")||s.find("img").first().attr("alt")))),!i)if("undefined"!=typeof o&&null!==o){var a=o.substring(0,1);"."!==a&&"#"!==a||(o=this.s.subHtmlSelectorRelative&&!this.s.dynamic?s.find(o).html():e(o).html())}else o="";".lg-sub-html"===this.s.appendSubHtmlTo?i?this.$outer.find(this.s.appendSubHtmlTo).load(i):this.$outer.find(this.s.appendSubHtmlTo).html(o):i?this.$slide.eq(t).load(i):this.$slide.eq(t).append(o),"undefined"!=typeof o&&null!==o&&(""===o?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.$el.trigger("onAfterAppendSubHtml.lg",[t])},t.prototype.preload=function(e){var t=1,i=1;for(t=1;t<=this.s.preload&&!(t>=this.$items.length-e);t++)this.loadContent(e+t,!1,0);for(i=1;i<=this.s.preload&&!(e-i<0);i++)this.loadContent(e-i,!1,0)},t.prototype.loadContent=function(t,i,s){var o,a,n,r,l,d,c=this,h=!1,u=function(t){for(var i=[],s=[],o=0;o<t.length;o++){var n=t[o].split(" ");""===n[0]&&n.splice(0,1),s.push(n[0]),i.push(n[1])}for(var r=e(window).width(),l=0;l<i.length;l++)if(parseInt(i[l],10)>r){a=s[l];break}};if(c.s.dynamic){if(c.s.dynamicEl[t].poster&&(h=!0,n=c.s.dynamicEl[t].poster),d=c.s.dynamicEl[t].html,a=c.s.dynamicEl[t].src,c.s.dynamicEl[t].responsive){var p=c.s.dynamicEl[t].responsive.split(",");u(p)}r=c.s.dynamicEl[t].srcset,l=c.s.dynamicEl[t].sizes}else{if(c.$items.eq(t).attr("data-poster")&&(h=!0,n=c.$items.eq(t).attr("data-poster")),d=c.$items.eq(t).attr("data-html"),a=c.$items.eq(t).attr("href")||c.$items.eq(t).attr("data-src"),c.$items.eq(t).attr("data-responsive")){var f=c.$items.eq(t).attr("data-responsive").split(",");u(f)}r=c.$items.eq(t).attr("data-srcset"),l=c.$items.eq(t).attr("data-sizes")}var g=!1;c.s.dynamic?c.s.dynamicEl[t].iframe&&(g=!0):"true"===c.$items.eq(t).attr("data-iframe")&&(g=!0);var m=c.isVideo(a,t);if(!c.$slide.eq(t).hasClass("lg-loaded")){if(g)c.$slide.eq(t).prepend('<div class="lg-video-cont lg-has-iframe" style="max-width:'+c.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+a+'"  allowfullscreen="true"></iframe></div></div>');else if(h){var v="";v=m&&m.youtube?"lg-has-youtube":m&&m.vimeo?"lg-has-vimeo":"lg-has-html5",c.$slide.eq(t).prepend('<div class="lg-video-cont '+v+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+n+'" /></div></div>')}else m?(c.$slide.eq(t).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'),c.$el.trigger("hasVideo.lg",[t,a,d])):c.$slide.eq(t).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+a+'" /></div>');if(c.$el.trigger("onAferAppendSlide.lg",[t]),o=c.$slide.eq(t).find(".lg-object"),l&&o.attr("sizes",l),r){o.attr("srcset",r);try{picturefill({elements:[o[0]]})}catch(y){console.warn("lightGallery :- If you want srcset to be supported for older browser please include picturefil version 2 javascript library in your document.")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&c.addHtml(t),c.$slide.eq(t).addClass("lg-loaded")}c.$slide.eq(t).find(".lg-object").on("load.lg error.lg",function(){var i=0;s&&!e("body").hasClass("lg-from-hash")&&(i=s),setTimeout(function(){c.$slide.eq(t).addClass("lg-complete"),c.$el.trigger("onSlideItemLoad.lg",[t,s||0])},i)}),m&&m.html5&&!h&&c.$slide.eq(t).addClass("lg-complete"),i===!0&&(c.$slide.eq(t).hasClass("lg-complete")?c.preload(t):c.$slide.eq(t).find(".lg-object").on("load.lg error.lg",function(){c.preload(t)}))},t.prototype.slide=function(t,i,s,o){var a=this.$outer.find(".lg-current").index(),n=this;if(!n.lGalleryOn||a!==t){var r=this.$slide.length,l=n.lGalleryOn?this.s.speed:0;if(!n.lgBusy){if(this.s.download){var d;d=n.s.dynamic?n.s.dynamicEl[t].downloadUrl!==!1&&(n.s.dynamicEl[t].downloadUrl||n.s.dynamicEl[t].src):"false"!==n.$items.eq(t).attr("data-download-url")&&(n.$items.eq(t).attr("data-download-url")||n.$items.eq(t).attr("href")||n.$items.eq(t).attr("data-src")),d?(e("#lg-download").attr("href",d),n.$outer.removeClass("lg-hide-download")):n.$outer.addClass("lg-hide-download")}if(this.$el.trigger("onBeforeSlide.lg",[a,t,i,s]),n.lgBusy=!0,clearTimeout(n.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){n.addHtml(t)},l),this.arrowDisable(t),o||(t<a?o="prev":t>a&&(o="next")),i){this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide");var c,h;r>2?(c=t-1,h=t+1,0===t&&a===r-1?(h=0,c=r-1):t===r-1&&0===a&&(h=0,c=r-1)):(c=0,h=1),"prev"===o?n.$slide.eq(h).addClass("lg-next-slide"):n.$slide.eq(c).addClass("lg-prev-slide"),n.$slide.eq(t).addClass("lg-current")}else n.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),"prev"===o?(this.$slide.eq(t).addClass("lg-prev-slide"),this.$slide.eq(a).addClass("lg-next-slide")):(this.$slide.eq(t).addClass("lg-next-slide"),this.$slide.eq(a).addClass("lg-prev-slide")),setTimeout(function(){n.$slide.removeClass("lg-current"),n.$slide.eq(t).addClass("lg-current"),n.$outer.removeClass("lg-no-trans")},50);n.lGalleryOn?(setTimeout(function(){n.loadContent(t,!0,0)},this.s.speed+50),setTimeout(function(){n.lgBusy=!1,n.$el.trigger("onAfterSlide.lg",[a,t,i,s])},this.s.speed)):(n.loadContent(t,!0,n.s.backdropDuration),n.lgBusy=!1,n.$el.trigger("onAfterSlide.lg",[a,t,i,s])),n.lGalleryOn=!0,this.s.counter&&e("#lg-counter-current").text(t+1)}n.index=t}},t.prototype.goToNextSlide=function(e){var t=this,i=t.s.loop;e&&t.$slide.length<3&&(i=!1),t.lgBusy||(t.index+1<t.$slide.length?(t.index++,t.$el.trigger("onBeforeNextSlide.lg",[t.index]),t.slide(t.index,e,!1,"next")):i?(t.index=0,t.$el.trigger("onBeforeNextSlide.lg",[t.index]),t.slide(t.index,e,!1,"next")):t.s.slideEndAnimatoin&&!e&&(t.$outer.addClass("lg-right-end"),setTimeout(function(){t.$outer.removeClass("lg-right-end")},400)))},t.prototype.goToPrevSlide=function(e){var t=this,i=t.s.loop;e&&t.$slide.length<3&&(i=!1),t.lgBusy||(t.index>0?(t.index--,t.$el.trigger("onBeforePrevSlide.lg",[t.index,e]),t.slide(t.index,e,!1,"prev")):i?(t.index=t.$items.length-1,t.$el.trigger("onBeforePrevSlide.lg",[t.index,e]),t.slide(t.index,e,!1,"prev")):t.s.slideEndAnimatoin&&!e&&(t.$outer.addClass("lg-left-end"),setTimeout(function(){t.$outer.removeClass("lg-left-end")},400)))},t.prototype.keyPress=function(){var t=this;this.$items.length>1&&e(window).on("keyup.lg",function(e){t.$items.length>1&&(37===e.keyCode&&(e.preventDefault(),t.goToPrevSlide()),39===e.keyCode&&(e.preventDefault(),t.goToNextSlide()))}),e(window).on("keydown.lg",function(e){t.s.escKey===!0&&27===e.keyCode&&(e.preventDefault(),t.$outer.hasClass("lg-thumb-open")?t.$outer.removeClass("lg-thumb-open"):t.destroy())})},t.prototype.arrow=function(){var e=this;this.$outer.find(".lg-prev").on("click.lg",function(){e.goToPrevSlide()}),this.$outer.find(".lg-next").on("click.lg",function(){e.goToNextSlide()})},t.prototype.arrowDisable=function(e){!this.s.loop&&this.s.hideControlOnEnd&&(e+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),e>0?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},t.prototype.setTranslate=function(e,t,i){this.s.useLeft?e.css("left",t):e.css({transform:"translate3d("+t+"px, "+i+"px, 0px)"})},t.prototype.touchMove=function(t,i){var s=i-t;Math.abs(s)>15&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),s,0),this.setTranslate(e(".lg-prev-slide"),-this.$slide.eq(this.index).width()+s,0),this.setTranslate(e(".lg-next-slide"),this.$slide.eq(this.index).width()+s,0))},t.prototype.touchEnd=function(e){var t=this;"lg-slide"!==t.s.mode&&t.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout(function(){t.$outer.removeClass("lg-dragging"),e<0&&Math.abs(e)>t.s.swipeThreshold?t.goToNextSlide(!0):e>0&&Math.abs(e)>t.s.swipeThreshold?t.goToPrevSlide(!0):Math.abs(e)<5&&t.$el.trigger("onSlideClick.lg"),t.$slide.removeAttr("style")}),setTimeout(function(){t.$outer.hasClass("lg-dragging")||"lg-slide"===t.s.mode||t.$outer.removeClass("lg-slide");
},t.s.speed+100)},t.prototype.enableSwipe=function(){var e=this,t=0,i=0,s=!1;e.s.enableSwipe&&e.doCss()&&(e.$slide.on("touchstart.lg",function(i){e.$outer.hasClass("lg-zoomed")||e.lgBusy||(i.preventDefault(),e.manageSwipeClass(),t=i.originalEvent.targetTouches[0].pageX)}),e.$slide.on("touchmove.lg",function(o){e.$outer.hasClass("lg-zoomed")||(o.preventDefault(),i=o.originalEvent.targetTouches[0].pageX,e.touchMove(t,i),s=!0)}),e.$slide.on("touchend.lg",function(){e.$outer.hasClass("lg-zoomed")||(s?(s=!1,e.touchEnd(i-t)):e.$el.trigger("onSlideClick.lg"))}))},t.prototype.enableDrag=function(){var t=this,i=0,s=0,o=!1,a=!1;t.s.enableDrag&&t.doCss()&&(t.$slide.on("mousedown.lg",function(s){t.$outer.hasClass("lg-zoomed")||t.lgBusy||e(s.target).text().trim()||(s.preventDefault(),t.manageSwipeClass(),i=s.pageX,o=!0,t.$outer.scrollLeft+=1,t.$outer.scrollLeft-=1,t.$outer.removeClass("lg-grab").addClass("lg-grabbing"),t.$el.trigger("onDragstart.lg"))}),e(window).on("mousemove.lg",function(e){o&&(a=!0,s=e.pageX,t.touchMove(i,s),t.$el.trigger("onDragmove.lg"))}),e(window).on("mouseup.lg",function(n){a?(a=!1,t.touchEnd(s-i),t.$el.trigger("onDragend.lg")):(e(n.target).hasClass("lg-object")||e(n.target).hasClass("lg-video-play"))&&t.$el.trigger("onSlideClick.lg"),o&&(o=!1,t.$outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},t.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1;this.s.loop&&this.$slide.length>2&&(0===this.index?t=this.$slide.length-1:this.index===this.$slide.length-1&&(e=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),t>-1&&this.$slide.eq(t).addClass("lg-prev-slide"),this.$slide.eq(e).addClass("lg-next-slide")},t.prototype.mousewheel=function(){var e=this;e.$outer.on("mousewheel.lg",function(t){t.deltaY&&(t.deltaY>0?e.goToPrevSlide():e.goToNextSlide(),t.preventDefault())})},t.prototype.closeGallery=function(){var t=this,i=!1;this.$outer.find(".lg-close").on("click.lg",function(){t.destroy()}),t.s.closable&&(t.$outer.on("mousedown.lg",function(t){i=!!(e(t.target).is(".lg-outer")||e(t.target).is(".lg-item ")||e(t.target).is(".lg-img-wrap"))}),t.$outer.on("mousemove.lg",function(){i=!1}),t.$outer.on("mouseup.lg",function(s){(e(s.target).is(".lg-outer")||e(s.target).is(".lg-item ")||e(s.target).is(".lg-img-wrap")&&i)&&(t.$outer.hasClass("lg-dragging")||t.destroy())}))},t.prototype.destroy=function(t){var i=this;t||(i.$el.trigger("onBeforeClose.lg"),e(window).scrollTop(i.prevScrollTop)),t&&(i.s.dynamic||this.$items.off("click.lg click.lgcustom"),e.removeData(i.el,"lightGallery")),this.$el.off(".lg.tm"),e.each(e.fn.lightGallery.modules,function(e){i.modules[e]&&i.modules[e].destroy()}),this.lGalleryOn=!1,clearTimeout(i.hideBartimeout),this.hideBartimeout=!1,e(window).off(".lg"),e("body").removeClass("lg-on lg-from-hash"),i.$outer&&i.$outer.removeClass("lg-visible"),e(".lg-backdrop").removeClass("in"),setTimeout(function(){i.$outer&&i.$outer.remove(),e(".lg-backdrop").remove(),t||i.$el.trigger("onCloseAfter.lg")},i.s.backdropDuration+50)},e.fn.lightGallery=function(i){return this.each(function(){if(e.data(this,"lightGallery"))try{e(this).data("lightGallery").init()}catch(s){console.error("lightGallery has not initiated properly")}else e.data(this,"lightGallery",new t(this,i))})},e.fn.lightGallery.modules={}}()}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){!function(){"use strict";var t={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"},i=function(i){return this.core=e(i).data("lightGallery"),this.$el=e(i),!(this.core.$items.length<2)&&(this.core.s=e.extend({},t,this.core.s),this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.core.s.fourceAutoplay,this.core.doCss()||(this.core.s.progressBar=!1),this.init(),this)};i.prototype.init=function(){var e=this;e.core.s.autoplayControls&&e.controls(),e.core.s.progressBar&&e.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),e.progress(),e.core.s.autoplay&&e.$el.one("onSlideItemLoad.lg.tm",function(){e.startlAuto()}),e.$el.on("onDragstart.lg.tm touchstart.lg.tm",function(){e.interval&&(e.cancelAuto(),e.canceledOnTouch=!0)}),e.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",function(){!e.interval&&e.canceledOnTouch&&(e.startlAuto(),e.canceledOnTouch=!1)})},i.prototype.progress=function(){var e,t,i=this;i.$el.on("onBeforeSlide.lg.tm",function(){i.core.s.progressBar&&i.fromAuto&&(e=i.core.$outer.find(".lg-progress-bar"),t=i.core.$outer.find(".lg-progress"),i.interval&&(t.removeAttr("style"),e.removeClass("lg-start"),setTimeout(function(){t.css("transition","width "+(i.core.s.speed+i.core.s.pause)+"ms ease 0s"),e.addClass("lg-start")},20))),i.fromAuto||i.core.s.fourceAutoplay||i.cancelAuto(),i.fromAuto=!1})},i.prototype.controls=function(){var t=this,i='<span class="lg-autoplay-button lg-icon"></span>';e(this.core.s.appendAutoplayControlsTo).append(i),t.core.$outer.find(".lg-autoplay-button").on("click.lg",function(){e(t.core.$outer).hasClass("lg-show-autoplay")?(t.cancelAuto(),t.core.s.fourceAutoplay=!1):t.interval||(t.startlAuto(),t.core.s.fourceAutoplay=t.fourceAutoplayTemp)})},i.prototype.startlAuto=function(){var e=this;e.core.$outer.find(".lg-progress").css("transition","width "+(e.core.s.speed+e.core.s.pause)+"ms ease 0s"),e.core.$outer.addClass("lg-show-autoplay"),e.core.$outer.find(".lg-progress-bar").addClass("lg-start"),e.interval=setInterval(function(){e.core.index+1<e.core.$items.length?e.core.index++:e.core.index=0,e.fromAuto=!0,e.core.slide(e.core.index,!1,!1,"next")},e.core.s.speed+e.core.s.pause)},i.prototype.cancelAuto=function(){clearInterval(this.interval),this.interval=!1,this.core.$outer.find(".lg-progress").removeAttr("style"),this.core.$outer.removeClass("lg-show-autoplay"),this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")},i.prototype.destroy=function(){this.cancelAuto(),this.core.$outer.find(".lg-progress-bar").remove()},e.fn.lightGallery.modules.autoplay=i}()}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){!function(){"use strict";var t={fullScreen:!0},i=function(i){return this.core=e(i).data("lightGallery"),this.$el=e(i),this.core.s=e.extend({},t,this.core.s),this.init(),this};i.prototype.init=function(){var e="";if(this.core.s.fullScreen){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))return;e='<span class="lg-fullscreen lg-icon"></span>',this.core.$outer.find(".lg-toolbar").append(e),this.fullScreen()}},i.prototype.requestFullscreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},i.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},i.prototype.fullScreen=function(){var t=this;e(document).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){t.core.$outer.toggleClass("lg-fullscreen-on")}),this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?t.exitFullscreen():t.requestFullscreen()})},i.prototype.destroy=function(){this.exitFullscreen(),e(document).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")},e.fn.lightGallery.modules.fullscreen=i}()}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){!function(){"use strict";var t={pager:!1},i=function(i){return this.core=e(i).data("lightGallery"),this.$el=e(i),this.core.s=e.extend({},t,this.core.s),this.core.s.pager&&this.core.$items.length>1&&this.init(),this};i.prototype.init=function(){var t,i,s,o=this,a="";if(o.core.$outer.find(".lg").append('<div class="lg-pager-outer"></div>'),o.core.s.dynamic)for(var n=0;n<o.core.s.dynamicEl.length;n++)a+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+o.core.s.dynamicEl[n].thumb+'" /></div></span>';else o.core.$items.each(function(){a+=o.core.s.exThumbImage?'<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+e(this).attr(o.core.s.exThumbImage)+'" /></div></span>':'<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+e(this).find("img").attr("src")+'" /></div></span>'});i=o.core.$outer.find(".lg-pager-outer"),i.html(a),t=o.core.$outer.find(".lg-pager-cont"),t.on("click.lg touchend.lg",function(){var t=e(this);o.core.index=t.index(),o.core.slide(o.core.index,!1,!0,!1)}),i.on("mouseover.lg",function(){clearTimeout(s),i.addClass("lg-pager-hover")}),i.on("mouseout.lg",function(){s=setTimeout(function(){i.removeClass("lg-pager-hover")})}),o.core.$el.on("onBeforeSlide.lg.tm",function(e,i,s){t.removeClass("lg-pager-active"),t.eq(s).addClass("lg-pager-active")})},i.prototype.destroy=function(){},e.fn.lightGallery.modules.pager=i}()}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){!function(){"use strict";var t={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbHeight:"80px",thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toogleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},i=function(i){return this.core=e(i).data("lightGallery"),this.core.s=e.extend({},t,this.core.s),this.$el=e(i),this.$thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.core.s.animateThumb&&(this.core.s.thumbHeight="100%"),this.left=0,this.init(),this};i.prototype.init=function(){var e=this;this.core.s.thumbnail&&this.core.$items.length>1&&(this.core.s.showThumbByDefault&&setTimeout(function(){e.core.$outer.addClass("lg-thumb-open")},700),this.core.s.pullCaptionUp&&this.core.$outer.addClass("lg-pull-caption-up"),this.build(),this.core.s.animateThumb&&this.core.doCss()?(this.core.s.enableThumbDrag&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toogle(),this.thumbkeyPress())},i.prototype.build=function(){function t(e,t,i){var n,r=s.core.isVideo(e,i)||{},l="";r.youtube||r.vimeo||r.dailymotion?r.youtube?n=s.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+r.youtube[1]+"/"+s.core.s.youtubeThumbSize+".jpg":t:r.vimeo?s.core.s.loadVimeoThumbnail?(n="//i.vimeocdn.com/video/error_"+a+".jpg",l=r.vimeo[1]):n=t:r.dailymotion&&(n=s.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+r.dailymotion[1]:t):n=t,o+='<div data-vimeo-id="'+l+'" class="lg-thumb-item" style="width:'+s.core.s.thumbWidth+"px; height: "+s.core.s.thumbHeight+"; margin-right: "+s.core.s.thumbMargin+'px"><img src="'+n+'" /></div>',l=""}var i,s=this,o="",a="",n='<div class="lg-thumb-outer"><div class="lg-thumb lg-group"></div></div>';switch(this.core.s.vimeoThumbSize){case"thumbnail_large":a="640";break;case"thumbnail_medium":a="200x150";break;case"thumbnail_small":a="100x75"}if(s.core.$outer.addClass("lg-has-thumb"),s.core.$outer.find(".lg").append(n),s.$thumbOuter=s.core.$outer.find(".lg-thumb-outer"),s.thumbOuterWidth=s.$thumbOuter.width(),s.core.s.animateThumb&&s.core.$outer.find(".lg-thumb").css({width:s.thumbTotalWidth+"px",position:"relative"}),this.core.s.animateThumb&&s.$thumbOuter.css("height",s.core.s.thumbContHeight+"px"),s.core.s.dynamic)for(var r=0;r<s.core.s.dynamicEl.length;r++)t(s.core.s.dynamicEl[r].src,s.core.s.dynamicEl[r].thumb,r);else s.core.$items.each(function(i){s.core.s.exThumbImage?t(e(this).attr("href")||e(this).attr("data-src"),e(this).attr(s.core.s.exThumbImage),i):t(e(this).attr("href")||e(this).attr("data-src"),e(this).find("img").attr("src"),i)});s.core.$outer.find(".lg-thumb").html(o),i=s.core.$outer.find(".lg-thumb-item"),i.each(function(){var t=e(this),i=t.attr("data-vimeo-id");i&&e.getJSON("//www.vimeo.com/api/v2/video/"+i+".json?callback=?",{format:"json"},function(e){t.find("img").attr("src",e[0][s.core.s.vimeoThumbSize])})}),i.eq(s.core.index).addClass("active"),s.core.$el.on("onBeforeSlide.lg.tm",function(){i.removeClass("active"),i.eq(s.core.index).addClass("active")}),i.on("click.lg touchend.lg",function(){var t=e(this);setTimeout(function(){(s.thumbClickable&&!s.core.lgBusy||!s.core.doCss())&&(s.core.index=t.index(),s.core.slide(s.core.index,!1,!0,!1))},50)}),s.core.$el.on("onBeforeSlide.lg.tm",function(){s.animateThumb(s.core.index)}),e(window).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){s.animateThumb(s.core.index),s.thumbOuterWidth=s.$thumbOuter.width()},200)})},i.prototype.setTranslate=function(e){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+e+"px, 0px, 0px)"})},i.prototype.animateThumb=function(e){var t=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var i;switch(this.core.s.currentPagerPosition){case"left":i=0;break;case"middle":i=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":i=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*e-1-i,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(t.hasClass("on")||this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms"),this.core.doCss()||t.animate({left:-this.left+"px"},this.core.s.speed)):this.core.doCss()||t.css("left",-this.left+"px"),this.setTranslate(this.left)}},i.prototype.enableThumbDrag=function(){var t=this,i=0,s=0,o=!1,a=!1,n=0;t.$thumbOuter.addClass("lg-grab"),t.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(e){t.thumbTotalWidth>t.thumbOuterWidth&&(e.preventDefault(),i=e.pageX,o=!0,t.core.$outer.scrollLeft+=1,t.core.$outer.scrollLeft-=1,t.thumbClickable=!1,t.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),e(window).on("mousemove.lg.thumb",function(e){o&&(n=t.left,a=!0,s=e.pageX,t.$thumbOuter.addClass("lg-dragging"),n-=s-i,n>t.thumbTotalWidth-t.thumbOuterWidth&&(n=t.thumbTotalWidth-t.thumbOuterWidth),n<0&&(n=0),t.setTranslate(n))}),e(window).on("mouseup.lg.thumb",function(){a?(a=!1,t.$thumbOuter.removeClass("lg-dragging"),t.left=n,Math.abs(s-i)<t.core.s.swipeThreshold&&(t.thumbClickable=!0)):t.thumbClickable=!0,o&&(o=!1,t.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab"))})},i.prototype.enableThumbSwipe=function(){var e=this,t=0,i=0,s=!1,o=0;e.core.$outer.find(".lg-thumb").on("touchstart.lg",function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),t=i.originalEvent.targetTouches[0].pageX,e.thumbClickable=!1)}),e.core.$outer.find(".lg-thumb").on("touchmove.lg",function(a){e.thumbTotalWidth>e.thumbOuterWidth&&(a.preventDefault(),i=a.originalEvent.targetTouches[0].pageX,s=!0,e.$thumbOuter.addClass("lg-dragging"),o=e.left,o-=i-t,o>e.thumbTotalWidth-e.thumbOuterWidth&&(o=e.thumbTotalWidth-e.thumbOuterWidth),o<0&&(o=0),e.setTranslate(o))}),e.core.$outer.find(".lg-thumb").on("touchend.lg",function(){e.thumbTotalWidth>e.thumbOuterWidth&&s?(s=!1,e.$thumbOuter.removeClass("lg-dragging"),Math.abs(i-t)<e.core.s.swipeThreshold&&(e.thumbClickable=!0),e.left=o):e.thumbClickable=!0})},i.prototype.toogle=function(){var e=this;e.core.s.toogleThumb&&(e.core.$outer.addClass("lg-can-toggle"),e.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>'),e.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){e.core.$outer.toggleClass("lg-thumb-open")}))},i.prototype.thumbkeyPress=function(){var t=this;e(window).on("keydown.lg.thumb",function(e){38===e.keyCode?(e.preventDefault(),t.core.$outer.addClass("lg-thumb-open")):40===e.keyCode&&(e.preventDefault(),t.core.$outer.removeClass("lg-thumb-open"))})},i.prototype.destroy=function(){this.core.s.thumbnail&&this.core.$items.length>1&&(e(window).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb"),this.$thumbOuter.remove(),this.core.$outer.removeClass("lg-has-thumb"))},e.fn.lightGallery.modules.Thumbnail=i}()}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(){"use strict";function t(e,t,i,s){var o=this;if(o.core.$slide.eq(t).find(".lg-video").append(o.loadVideo(i,"lg-object",!0,t,s)),s)if(o.core.s.videojs)try{videojs(o.core.$slide.eq(t).find(".lg-html5").get(0),o.core.s.videojsOptions,function(){!o.videoLoaded&&o.core.s.autoplayFirstVideo&&this.play()})}catch(a){console.error("Make sure you have included videojs")}else!o.videoLoaded&&o.core.s.autoplayFirstVideo&&o.core.$slide.eq(t).find(".lg-html5").get(0).play()}function i(e,t){var i=this.core.$slide.eq(t).find(".lg-video-cont");i.hasClass("lg-has-iframe")||(i.css("max-width",this.core.s.videoMaxWidth),this.videoLoaded=!0)}function s(t,i,s){var o=this,a=o.core.$slide.eq(i),n=a.find(".lg-youtube").get(0),r=a.find(".lg-vimeo").get(0),l=a.find(".lg-dailymotion").get(0),d=a.find(".lg-vk").get(0),c=a.find(".lg-html5").get(0);if(n)n.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(r)try{$f(r).api("pause")}catch(h){console.error("Make sure you have included froogaloop2 js")}else if(l)l.contentWindow.postMessage("pause","*");else if(c)if(o.core.s.videojs)try{videojs(c).pause()}catch(h){console.error("Make sure you have included videojs")}else c.pause();d&&e(d).attr("src",e(d).attr("src").replace("&autoplay","&noplay"));var u;u=o.core.s.dynamic?o.core.s.dynamicEl[s].src:o.core.$items.eq(s).attr("href")||o.core.$items.eq(s).attr("data-src");var p=o.core.isVideo(u,s)||{};(p.youtube||p.vimeo||p.dailymotion||p.vk)&&o.core.$outer.addClass("lg-hide-download")}var o={videoMaxWidth:"855px",autoplayFirstVideo:!0,youtubePlayerParams:!1,vimeoPlayerParams:!1,dailymotionPlayerParams:!1,vkPlayerParams:!1,videojs:!1,videojsOptions:{}},a=function(t){return this.core=e(t).data("lightGallery"),this.$el=e(t),this.core.s=e.extend({},o,this.core.s),this.videoLoaded=!1,this.init(),this};a.prototype.init=function(){var o=this;o.core.$el.on("hasVideo.lg.tm",t.bind(this)),o.core.$el.on("onAferAppendSlide.lg.tm",i.bind(this)),o.core.doCss()&&o.core.$items.length>1&&(o.core.s.enableSwipe||o.core.s.enableDrag)?o.core.$el.on("onSlideClick.lg.tm",function(){var e=o.core.$slide.eq(o.core.index);o.loadVideoOnclick(e)}):o.core.$slide.on("click.lg",function(){o.loadVideoOnclick(e(this))}),o.core.$el.on("onBeforeSlide.lg.tm",s.bind(this)),o.core.$el.on("onAfterSlide.lg.tm",function(e,t){o.core.$slide.eq(t).removeClass("lg-video-playing")}),o.core.s.autoplayFirstVideo&&o.core.$el.on("onAferAppendSlide.lg.tm",function(e,t){if(!o.core.lGalleryOn){var i=o.core.$slide.eq(t);setTimeout(function(){o.loadVideoOnclick(i)},100)}})},a.prototype.loadVideo=function(t,i,s,o,a){var n="",r=1,l="",d=this.core.isVideo(t,o)||{};if(s&&(r=this.videoLoaded?0:this.core.s.autoplayFirstVideo?1:0),d.youtube)l="?wmode=opaque&autoplay="+r+"&enablejsapi=1",this.core.s.youtubePlayerParams&&(l=l+"&"+e.param(this.core.s.youtubePlayerParams)),n='<iframe class="lg-video-object lg-youtube '+i+'" width="560" height="315" src="//www.youtube.com/embed/'+d.youtube[1]+l+'" frameborder="0" allowfullscreen></iframe>';else if(d.vimeo)l="?autoplay="+r+"&api=1",this.core.s.vimeoPlayerParams&&(l=l+"&"+e.param(this.core.s.vimeoPlayerParams)),n='<iframe class="lg-video-object lg-vimeo '+i+'" width="560" height="315"  src="//player.vimeo.com/video/'+d.vimeo[1]+l+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';else if(d.dailymotion)l="?wmode=opaque&autoplay="+r+"&api=postMessage",this.core.s.dailymotionPlayerParams&&(l=l+"&"+e.param(this.core.s.dailymotionPlayerParams)),n='<iframe class="lg-video-object lg-dailymotion '+i+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+d.dailymotion[1]+l+'" frameborder="0" allowfullscreen></iframe>';else if(d.html5){var c=a.substring(0,1);"."!==c&&"#"!==c||(a=e(a).html()),n=a}else d.vk&&(l="&autoplay="+r,this.core.s.vkPlayerParams&&(l=l+"&"+e.param(this.core.s.vkPlayerParams)),n='<iframe class="lg-video-object lg-vk '+i+'" width="560" height="315" src="//vk.com/video_ext.php?'+d.vk[1]+l+'" frameborder="0" allowfullscreen></iframe>');return n},a.prototype.loadVideoOnclick=function(e){var t=this;if(e.find(".lg-object").hasClass("lg-has-poster")&&e.find(".lg-object").is(":visible"))if(e.hasClass("lg-has-video")){var i=e.find(".lg-youtube").get(0),s=e.find(".lg-vimeo").get(0),o=e.find(".lg-dailymotion").get(0),a=e.find(".lg-html5").get(0);if(i)i.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(s)try{$f(s).api("play")}catch(n){console.error("Make sure you have included froogaloop2 js")}else if(o)o.contentWindow.postMessage("play","*");else if(a)if(t.core.s.videojs)try{videojs(a).play()}catch(n){console.error("Make sure you have included videojs")}else a.play();e.addClass("lg-video-playing")}else{e.addClass("lg-video-playing lg-has-video");var r,l,d=function(i,s){if(e.find(".lg-video").append(t.loadVideo(i,"",!1,t.core.index,s)),s)if(t.core.s.videojs)try{videojs(t.core.$slide.eq(t.core.index).find(".lg-html5").get(0),t.core.s.videojsOptions,function(){this.play()})}catch(o){console.error("Make sure you have included videojs")}else t.core.$slide.eq(t.core.index).find(".lg-html5").get(0).play()};t.core.s.dynamic?(r=t.core.s.dynamicEl[t.core.index].src,l=t.core.s.dynamicEl[t.core.index].html,d(r,l)):(r=t.core.$items.eq(t.core.index).attr("href")||t.core.$items.eq(t.core.index).attr("data-src"),l=t.core.$items.eq(t.core.index).attr("data-html"),d(r,l));var c=e.find(".lg-object");e.find(".lg-video").append(c),e.find(".lg-video-object").hasClass("lg-html5")||(e.removeClass("lg-complete"),e.find(".lg-video-object").on("load.lg error.lg",function(){e.addClass("lg-complete")}))}},a.prototype.destroy=function(){this.videoLoaded=!1},e.fn.lightGallery.modules.video=a}()}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){!function(){"use strict";var t=function(){var e=!1,t=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return t&&parseInt(t[2],10)<54&&(e=!0),e},i={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300,useLeftForZoom:t()},s=function(t){return this.core=e(t).data("lightGallery"),this.core.s=e.extend({},i,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=e(window).width()/2,this.pageY=e(window).height()/2+e(window).scrollTop()),this};s.prototype.init=function(){var t=this,i='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';t.core.s.actualSize&&(i+='<span id="lg-actual-size" class="lg-icon"></span>'),t.core.s.useLeftForZoom?t.core.$outer.addClass("lg-use-left-for-zoom"):t.core.$outer.addClass("lg-use-transition-for-zoom"),this.core.$outer.find(".lg-toolbar").append(i),t.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(i,s,o){var a=t.core.s.enableZoomAfter+o;e("body").hasClass("lg-from-hash")&&o?a=0:e("body").removeClass("lg-from-hash"),t.zoomabletimeout=setTimeout(function(){t.core.$slide.eq(s).addClass("lg-zoomable")},a+30)});var s=1,o=function(i){var s,o,a=t.core.$outer.find(".lg-current .lg-image"),n=(e(window).width()-a.prop("offsetWidth"))/2,r=(e(window).height()-a.prop("offsetHeight"))/2+e(window).scrollTop();s=t.pageX-n,o=t.pageY-r;var l=(i-1)*s,d=(i-1)*o;a.css("transform","scale3d("+i+", "+i+", 1)").attr("data-scale",i),t.core.s.useLeftForZoom?a.parent().css({left:-l+"px",top:-d+"px"}).attr("data-x",l).attr("data-y",d):a.parent().css("transform","translate3d(-"+l+"px, -"+d+"px, 0)").attr("data-x",l).attr("data-y",d)},a=function(){s>1?t.core.$outer.addClass("lg-zoomed"):t.resetZoom(),s<1&&(s=1),o(s)},n=function(i,o,n,r){var l,d=o.prop("offsetWidth");l=t.core.s.dynamic?t.core.s.dynamicEl[n].width||o[0].naturalWidth||d:t.core.$items.eq(n).attr("data-width")||o[0].naturalWidth||d;var c;t.core.$outer.hasClass("lg-zoomed")?s=1:l>d&&(c=l/d,s=c||2),r?(t.pageX=e(window).width()/2,t.pageY=e(window).height()/2+e(window).scrollTop()):(t.pageX=i.pageX||i.originalEvent.targetTouches[0].pageX,t.pageY=i.pageY||i.originalEvent.targetTouches[0].pageY),a(),setTimeout(function(){t.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)},r=!1;t.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(e,i){var s=t.core.$slide.eq(i).find(".lg-image");s.on("dblclick",function(e){n(e,s,i)}),s.on("touchstart",function(e){r?(clearTimeout(r),r=null,n(e,s,i)):r=setTimeout(function(){r=null},300),e.preventDefault()})}),e(window).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){t.pageX=e(window).width()/2,t.pageY=e(window).height()/2+e(window).scrollTop(),o(s)}),e("#lg-zoom-out").on("click.lg",function(){t.core.$outer.find(".lg-current .lg-image").length&&(s-=t.core.s.scale,a())}),e("#lg-zoom-in").on("click.lg",function(){t.core.$outer.find(".lg-current .lg-image").length&&(s+=t.core.s.scale,a())}),e("#lg-actual-size").on("click.lg",function(e){n(e,t.core.$slide.eq(t.core.index).find(".lg-image"),t.core.index,!0)}),t.core.$el.on("onBeforeSlide.lg.tm",function(){s=1,t.resetZoom()}),t.zoomDrag(),t.zoomSwipe()},s.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed"),this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y"),this.core.$slide.find(".lg-image").removeAttr("style data-scale"),this.pageX=e(window).width()/2,this.pageY=e(window).height()/2+e(window).scrollTop()},s.prototype.zoomSwipe=function(){var e=this,t={},i={},s=!1,o=!1,a=!1;e.core.$slide.on("touchstart.lg",function(i){if(e.core.$outer.hasClass("lg-zoomed")){var s=e.core.$slide.eq(e.core.index).find(".lg-object");a=s.prop("offsetHeight")*s.attr("data-scale")>e.core.$outer.find(".lg").height(),o=s.prop("offsetWidth")*s.attr("data-scale")>e.core.$outer.find(".lg").width(),(o||a)&&(i.preventDefault(),t={x:i.originalEvent.targetTouches[0].pageX,y:i.originalEvent.targetTouches[0].pageY})}}),e.core.$slide.on("touchmove.lg",function(n){if(e.core.$outer.hasClass("lg-zoomed")){var r,l,d=e.core.$slide.eq(e.core.index).find(".lg-img-wrap");n.preventDefault(),s=!0,i={x:n.originalEvent.targetTouches[0].pageX,y:n.originalEvent.targetTouches[0].pageY},e.core.$outer.addClass("lg-zoom-dragging"),l=a?-Math.abs(d.attr("data-y"))+(i.y-t.y):-Math.abs(d.attr("data-y")),r=o?-Math.abs(d.attr("data-x"))+(i.x-t.x):-Math.abs(d.attr("data-x")),(Math.abs(i.x-t.x)>15||Math.abs(i.y-t.y)>15)&&(e.core.s.useLeftForZoom?d.css({left:r+"px",top:l+"px"}):d.css("transform","translate3d("+r+"px, "+l+"px, 0)"))}}),e.core.$slide.on("touchend.lg",function(){e.core.$outer.hasClass("lg-zoomed")&&s&&(s=!1,e.core.$outer.removeClass("lg-zoom-dragging"),e.touchendZoom(t,i,o,a))})},s.prototype.zoomDrag=function(){var t=this,i={},s={},o=!1,a=!1,n=!1,r=!1;t.core.$slide.on("mousedown.lg.zoom",function(s){var a=t.core.$slide.eq(t.core.index).find(".lg-object");r=a.prop("offsetHeight")*a.attr("data-scale")>t.core.$outer.find(".lg").height(),n=a.prop("offsetWidth")*a.attr("data-scale")>t.core.$outer.find(".lg").width(),t.core.$outer.hasClass("lg-zoomed")&&e(s.target).hasClass("lg-object")&&(n||r)&&(s.preventDefault(),i={x:s.pageX,y:s.pageY},o=!0,t.core.$outer.scrollLeft+=1,t.core.$outer.scrollLeft-=1,t.core.$outer.removeClass("lg-grab").addClass("lg-grabbing"))}),e(window).on("mousemove.lg.zoom",function(e){if(o){var l,d,c=t.core.$slide.eq(t.core.index).find(".lg-img-wrap");a=!0,s={x:e.pageX,y:e.pageY},t.core.$outer.addClass("lg-zoom-dragging"),d=r?-Math.abs(c.attr("data-y"))+(s.y-i.y):-Math.abs(c.attr("data-y")),l=n?-Math.abs(c.attr("data-x"))+(s.x-i.x):-Math.abs(c.attr("data-x")),t.core.s.useLeftForZoom?c.css({left:l+"px",top:d+"px"}):c.css("transform","translate3d("+l+"px, "+d+"px, 0)")}}),e(window).on("mouseup.lg.zoom",function(e){o&&(o=!1,t.core.$outer.removeClass("lg-zoom-dragging"),!a||i.x===s.x&&i.y===s.y||(s={x:e.pageX,y:e.pageY},t.touchendZoom(i,s,n,r)),a=!1),t.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})},s.prototype.touchendZoom=function(e,t,i,s){var o=this,a=o.core.$slide.eq(o.core.index).find(".lg-img-wrap"),n=o.core.$slide.eq(o.core.index).find(".lg-object"),r=-Math.abs(a.attr("data-x"))+(t.x-e.x),l=-Math.abs(a.attr("data-y"))+(t.y-e.y),d=(o.core.$outer.find(".lg").height()-n.prop("offsetHeight"))/2,c=Math.abs(n.prop("offsetHeight")*Math.abs(n.attr("data-scale"))-o.core.$outer.find(".lg").height()+d),h=(o.core.$outer.find(".lg").width()-n.prop("offsetWidth"))/2,u=Math.abs(n.prop("offsetWidth")*Math.abs(n.attr("data-scale"))-o.core.$outer.find(".lg").width()+h);(Math.abs(t.x-e.x)>15||Math.abs(t.y-e.y)>15)&&(s&&(l<=-c?l=-c:l>=-d&&(l=-d)),i&&(r<=-u?r=-u:r>=-h&&(r=-h)),s?a.attr("data-y",Math.abs(l)):l=-Math.abs(a.attr("data-y")),i?a.attr("data-x",Math.abs(r)):r=-Math.abs(a.attr("data-x")),o.core.s.useLeftForZoom?a.css({left:r+"px",top:l+"px"}):a.css("transform","translate3d("+r+"px, "+l+"px, 0)"))},s.prototype.destroy=function(){var t=this;t.core.$el.off(".lg.zoom"),e(window).off(".lg.zoom"),t.core.$slide.off(".lg.zoom"),t.core.$el.off(".lg.tm.zoom"),t.resetZoom(),clearTimeout(t.zoomabletimeout),t.zoomabletimeout=!1},e.fn.lightGallery.modules.zoom=s}()}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){!function(){"use strict";var t={hash:!0},i=function(i){return this.core=e(i).data("lightGallery"),this.core.s=e.extend({},t,this.core.s),this.core.s.hash&&(this.oldHash=window.location.hash,this.init()),this};i.prototype.init=function(){var t,i=this;i.core.$el.on("onAfterSlide.lg.tm",function(e,t,s){history.replaceState?history.replaceState(null,null,window.location.pathname+window.location.search+"#lg="+i.core.s.galleryId+"&slide="+s):window.location.hash="lg="+i.core.s.galleryId+"&slide="+s}),e(window).on("hashchange.lg.hash",function(){t=window.location.hash;var e=parseInt(t.split("&slide=")[1],10);t.indexOf("lg="+i.core.s.galleryId)>-1?i.core.slide(e,!1,!1):i.core.lGalleryOn&&i.core.destroy()})},i.prototype.destroy=function(){this.core.s.hash&&(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0?history.replaceState?history.replaceState(null,null,this.oldHash):window.location.hash=this.oldHash:history.replaceState?history.replaceState(null,document.title,window.location.pathname+window.location.search):window.location.hash="",this.core.$el.off(".lg.hash"))},e.fn.lightGallery.modules.hash=i}()}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){!function(){
"use strict";var t={share:!0,facebook:!0,facebookDropdownText:"Facebook",twitter:!0,twitterDropdownText:"Twitter",googlePlus:!0,googlePlusDropdownText:"GooglePlus",pinterest:!0,pinterestDropdownText:"Pinterest"},i=function(i){return this.core=e(i).data("lightGallery"),this.core.s=e.extend({},t,this.core.s),this.core.s.share&&this.init(),this};i.prototype.init=function(){var t=this,i='<span id="lg-share" class="lg-icon"><ul class="lg-dropdown" style="position: absolute;">';i+=t.core.s.facebook?'<li><a id="lg-share-facebook" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.facebookDropdownText+"</span></a></li>":"",i+=t.core.s.twitter?'<li><a id="lg-share-twitter" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.twitterDropdownText+"</span></a></li>":"",i+=t.core.s.googlePlus?'<li><a id="lg-share-googleplus" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.googlePlusDropdownText+"</span></a></li>":"",i+=t.core.s.pinterest?'<li><a id="lg-share-pinterest" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.pinterestDropdownText+"</span></a></li>":"",i+="</ul></span>",this.core.$outer.find(".lg-toolbar").append(i),this.core.$outer.find(".lg").append('<div id="lg-dropdown-overlay"></div>'),e("#lg-share").on("click.lg",function(){t.core.$outer.toggleClass("lg-dropdown-active")}),e("#lg-dropdown-overlay").on("click.lg",function(){t.core.$outer.removeClass("lg-dropdown-active")}),t.core.$el.on("onAfterSlide.lg.tm",function(i,s,o){setTimeout(function(){e("#lg-share-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t.getSahreProps(o,"facebookShareUrl")||window.location.href)),e("#lg-share-twitter").attr("href","https://twitter.com/intent/tweet?text="+t.getSahreProps(o,"tweetText")+"&url="+encodeURIComponent(t.getSahreProps(o,"twitterShareUrl")||window.location.href)),e("#lg-share-googleplus").attr("href","https://plus.google.com/share?url="+encodeURIComponent(t.getSahreProps(o,"googleplusShareUrl")||window.location.href)),e("#lg-share-pinterest").attr("href","http://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(t.getSahreProps(o,"pinterestShareUrl")||window.location.href)+"&media="+encodeURIComponent(t.getSahreProps(o,"src"))+"&description="+t.getSahreProps(o,"pinterestText"))},100)})},i.prototype.getSahreProps=function(e,t){var i="";if(this.core.s.dynamic)i=this.core.s.dynamicEl[e][t];else{var s=this.core.$items.eq(e).attr("href"),o=this.core.$items.eq(e).data(t);i="src"===t?s||o:o}return i},i.prototype.destroy=function(){},e.fn.lightGallery.modules.share=i}()}),function(e,t){"use strict";var i={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onBeforeSlide:function(e,t){},onAfterSlide:function(e,t){},onBeforeNextSlide:function(e,t){},onBeforePrevSlide:function(e,t){}};e.fn.lightSlider=function(t){if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).lightSlider(t)}),this;var s={},o=e.extend(!0,{},i,t),a={},n=this;s.$el=this,"fade"===o.mode&&(o.vertical=!1);var r=n.children(),l=e(window).width(),d=null,c=null,h=0,u=0,p=!1,f=0,g="",m=0,v=o.vertical===!0?"height":"width",y=o.vertical===!0?"margin-bottom":"margin-right",w=0,b=0,_=0,x=0,C=null,$="ontouchstart"in document.documentElement,T={};return T.chbreakpoint=function(){if(l=e(window).width(),o.responsive.length){var t;if(o.autoWidth===!1&&(t=o.item),l<o.responsive[0].breakpoint)for(var i=0;i<o.responsive.length;i++)l<o.responsive[i].breakpoint&&(d=o.responsive[i].breakpoint,c=o.responsive[i]);if("undefined"!=typeof c&&null!==c)for(var s in c.settings)c.settings.hasOwnProperty(s)&&("undefined"!=typeof a[s]&&null!==a[s]||(a[s]=o[s]),o[s]=c.settings[s]);if(!e.isEmptyObject(a)&&l>o.responsive[0].breakpoint)for(var n in a)a.hasOwnProperty(n)&&(o[n]=a[n]);o.autoWidth===!1&&w>0&&_>0&&t!==o.item&&(m=Math.round(w/((_+o.slideMargin)*o.slideMove)))}},T.calSW=function(){o.autoWidth===!1&&(_=(f-(o.item*o.slideMargin-o.slideMargin))/o.item)},T.calWidth=function(e){var t=e===!0?g.find(".lslide").length:r.length;if(o.autoWidth===!1)u=t*(_+o.slideMargin);else{u=0;for(var i=0;i<t;i++)u+=parseInt(r.eq(i).width())+o.slideMargin}return u},s={doCss:function(){var e=function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],t=document.documentElement,i=0;i<e.length;i++)if(e[i]in t.style)return!0};return!(!o.useCSS||!e())},keyPress:function(){o.keyPress&&e(document).on("keyup.lightslider",function(t){e(":focus").is("input, textarea")||(t.preventDefault?t.preventDefault():t.returnValue=!1,37===t.keyCode?n.goToPrevSlide():39===t.keyCode&&n.goToNextSlide())})},controls:function(){o.controls&&(n.after('<div class="lSAction"><a class="lSPrev">'+o.prevHtml+'</a><a class="lSNext">'+o.nextHtml+"</a></div>"),o.autoWidth?T.calWidth(!1)<f&&g.find(".lSAction").hide():h<=o.item&&g.find(".lSAction").hide(),g.find(".lSAction a").on("click",function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,"lSPrev"===e(this).attr("class")?n.goToPrevSlide():n.goToNextSlide(),!1}))},initialStyle:function(){var e=this;"fade"===o.mode&&(o.autoWidth=!1,o.slideEndAnimation=!1),o.auto&&(o.slideEndAnimation=!1),o.autoWidth&&(o.slideMove=1,o.item=1),o.loop&&(o.slideMove=1,o.freeMove=!1),o.onBeforeStart.call(this,n),T.chbreakpoint(),n.addClass("lightSlider").wrap('<div class="lSSlideOuter '+o.addClass+'"><div class="lSSlideWrapper"></div></div>'),g=n.parent(".lSSlideWrapper"),o.rtl===!0&&g.parent().addClass("lSrtl"),o.vertical?(g.parent().addClass("vertical"),f=o.verticalHeight,g.css("height",f+"px")):f=n.outerWidth(),r.addClass("lslide"),o.loop===!0&&"slide"===o.mode&&(T.calSW(),T.clone=function(){if(T.calWidth(!0)>f){for(var t=0,i=0,s=0;s<r.length&&(t+=parseInt(n.find(".lslide").eq(s).width())+o.slideMargin,i++,!(t>=f+o.slideMargin));s++);var a=o.autoWidth===!0?i:o.item;if(a<n.find(".clone.left").length)for(var l=0;l<n.find(".clone.left").length-a;l++)r.eq(l).remove();if(a<n.find(".clone.right").length)for(var d=r.length-1;d>r.length-1-n.find(".clone.right").length;d--)m--,r.eq(d).remove();for(var c=n.find(".clone.right").length;c<a;c++)n.find(".lslide").eq(c).clone().removeClass("lslide").addClass("clone right").appendTo(n),m++;for(var h=n.find(".lslide").length-n.find(".clone.left").length;h>n.find(".lslide").length-a;h--)n.find(".lslide").eq(h-1).clone().removeClass("lslide").addClass("clone left").prependTo(n);r=n.children()}else r.hasClass("clone")&&(n.find(".clone").remove(),e.move(n,0))},T.clone()),T.sSW=function(){h=r.length,o.rtl===!0&&o.vertical===!1&&(y="margin-left"),o.autoWidth===!1&&r.css(v,_+"px"),r.css(y,o.slideMargin+"px"),u=T.calWidth(!1),n.css(v,u+"px"),o.loop===!0&&"slide"===o.mode&&p===!1&&(m=n.find(".clone.left").length)},T.calL=function(){r=n.children(),h=r.length},this.doCss()&&g.addClass("usingCss"),T.calL(),"slide"===o.mode?(T.calSW(),T.sSW(),o.loop===!0&&(w=e.slideValue(),this.move(n,w)),o.vertical===!1&&this.setHeight(n,!1)):(this.setHeight(n,!0),n.addClass("lSFade"),this.doCss()||(r.fadeOut(0),r.eq(m).fadeIn(0))),o.loop===!0&&"slide"===o.mode?r.eq(m).addClass("active"):r.first().addClass("active")},pager:function(){var e=this;if(T.createPager=function(){x=(f-(o.thumbItem*o.thumbMargin-o.thumbMargin))/o.thumbItem;var t=g.find(".lslide"),i=g.find(".lslide").length,s=0,a="",r=0;for(s=0;s<i;s++){"slide"===o.mode&&(o.autoWidth?r+=(parseInt(t.eq(s).width())+o.slideMargin)*o.slideMove:r=s*((_+o.slideMargin)*o.slideMove));var l=t.eq(s*o.slideMove).attr("data-thumb");if(a+=o.gallery===!0?'<li style="width:100%;'+v+":"+x+"px;"+y+":"+o.thumbMargin+'px"><a href="#"><img src="'+l+'" /></a></li>':'<li><a href="#">'+(s+1)+"</a></li>","slide"===o.mode&&r>=u-f-o.slideMargin){s+=1;var d=2;o.autoWidth&&(a+='<li><a href="#">'+(s+1)+"</a></li>",d=1),s<d?(a=null,g.parent().addClass("noPager")):g.parent().removeClass("noPager");break}}var c=g.parent();c.find(".lSPager").html(a),o.gallery===!0&&(o.vertical===!0&&c.find(".lSPager").css("width",o.vThumbWidth+"px"),b=s*(o.thumbMargin+x)+.5,c.find(".lSPager").css({property:b+"px","transition-duration":o.speed+"ms"}),o.vertical===!0&&g.parent().css("padding-right",o.vThumbWidth+o.galleryMargin+"px"),c.find(".lSPager").css(v,b+"px"));var h=c.find(".lSPager").find("li");h.first().addClass("active"),h.on("click",function(){return o.loop===!0&&"slide"===o.mode?m+=h.index(this)-c.find(".lSPager").find("li.active").index():m=h.index(this),n.mode(!1),o.gallery===!0&&e.slideThumb(),!1})},o.pager){var t="lSpg";o.gallery&&(t="lSGallery"),g.after('<ul class="lSPager '+t+'"></ul>');var i=o.vertical?"margin-left":"margin-top";g.parent().find(".lSPager").css(i,o.galleryMargin+"px"),T.createPager()}setTimeout(function(){T.init()},0)},setHeight:function(e,t){var i=null,s=this;i=o.loop?e.children(".lslide ").first():e.children().first();var a=function(){var s=i.outerHeight(),o=0,a=s;t&&(s=0,o=100*a/f),e.css({height:s+"px","padding-bottom":o+"%"})};a(),i.find("img").length?i.find("img")[0].complete?(a(),C||s.auto()):i.find("img").on("load",function(){setTimeout(function(){a(),C||s.auto()},100)}):C||s.auto()},active:function(e,t){this.doCss()&&"fade"===o.mode&&g.addClass("on");var i=0;if(m*o.slideMove<h){e.removeClass("active"),this.doCss()||"fade"!==o.mode||t!==!1||e.fadeOut(o.speed),i=t===!0?m:m*o.slideMove;var s,a;t===!0&&(s=e.length,a=s-1,i+1>=s&&(i=a)),o.loop===!0&&"slide"===o.mode&&(i=t===!0?m-n.find(".clone.left").length:m*o.slideMove,t===!0&&(s=e.length,a=s-1,i+1===s?i=a:i+1>s&&(i=0))),this.doCss()||"fade"!==o.mode||t!==!1||e.eq(i).fadeIn(o.speed),e.eq(i).addClass("active")}else e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==o.mode||t!==!1||(e.fadeOut(o.speed),e.eq(i).fadeIn(o.speed))},move:function(e,t){o.rtl===!0&&(t=-t),this.doCss()?o.vertical===!0?e.css({transform:"translate3d(0px, "+-t+"px, 0px)","-webkit-transform":"translate3d(0px, "+-t+"px, 0px)"}):e.css({transform:"translate3d("+-t+"px, 0px, 0px)","-webkit-transform":"translate3d("+-t+"px, 0px, 0px)"}):o.vertical===!0?e.css("position","relative").animate({top:-t+"px"},o.speed,o.easing):e.css("position","relative").animate({left:-t+"px"},o.speed,o.easing);var i=g.parent().find(".lSPager").find("li");this.active(i,!0)},fade:function(){this.active(r,!1);var e=g.parent().find(".lSPager").find("li");this.active(e,!0)},slide:function(){var e=this;T.calSlide=function(){u>f&&(w=e.slideValue(),e.active(r,!1),w>u-f-o.slideMargin?w=u-f-o.slideMargin:w<0&&(w=0),e.move(n,w),o.loop===!0&&"slide"===o.mode&&(m>=h-n.find(".clone.left").length/o.slideMove&&e.resetSlide(n.find(".clone.left").length),0===m&&e.resetSlide(g.find(".lslide").length)))},T.calSlide()},resetSlide:function(e){var t=this;g.find(".lSAction a").addClass("disabled"),setTimeout(function(){m=e,g.css("transition-duration","0ms"),w=t.slideValue(),t.active(r,!1),s.move(n,w),setTimeout(function(){g.css("transition-duration",o.speed+"ms"),g.find(".lSAction a").removeClass("disabled")},50)},o.speed+100)},slideValue:function(){var e=0;if(o.autoWidth===!1)e=m*((_+o.slideMargin)*o.slideMove);else{e=0;for(var t=0;t<m;t++)e+=parseInt(r.eq(t).width())+o.slideMargin}return e},slideThumb:function(){var e;switch(o.currentPagerPosition){case"left":e=0;break;case"middle":e=f/2-x/2;break;case"right":e=f-x}var t=m-n.find(".clone.left").length,i=g.parent().find(".lSPager");"slide"===o.mode&&o.loop===!0&&(t>=i.children().length?t=0:t<0&&(t=i.children().length));var s=t*(x+o.thumbMargin)-e;s+f>b&&(s=b-f-o.thumbMargin),s<0&&(s=0),this.move(i,s)},auto:function(){o.auto&&(clearInterval(C),C=setInterval(function(){n.goToNextSlide()},o.pause))},pauseOnHover:function(){var t=this;o.auto&&o.pauseOnHover&&(g.on("mouseenter",function(){e(this).addClass("ls-hover"),n.pause(),o.auto=!0}),g.on("mouseleave",function(){e(this).removeClass("ls-hover"),g.find(".lightSlider").hasClass("lsGrabbing")||t.auto()}))},touchMove:function(e,t){if(g.css("transition-duration","0ms"),"slide"===o.mode){var i=e-t,s=w-i;if(s>=u-f-o.slideMargin)if(o.freeMove===!1)s=u-f-o.slideMargin;else{var a=u-f-o.slideMargin;s=a+(s-a)/5}else s<0&&(o.freeMove===!1?s=0:s/=5);this.move(n,s)}},touchEnd:function(e){if(g.css("transition-duration",o.speed+"ms"),"slide"===o.mode){var t=!1,i=!0;w-=e,w>u-f-o.slideMargin?(w=u-f-o.slideMargin,o.autoWidth===!1&&(t=!0)):w<0&&(w=0);var s=function(e){var i=0;if(t||e&&(i=1),o.autoWidth)for(var s=0,a=0;a<r.length&&(s+=parseInt(r.eq(a).width())+o.slideMargin,m=a+i,!(s>=w));a++);else{var n=w/((_+o.slideMargin)*o.slideMove);m=parseInt(n)+i,w>=u-f-o.slideMargin&&n%1!==0&&m++}};e>=o.swipeThreshold?(s(!1),i=!1):e<=-o.swipeThreshold&&(s(!0),i=!1),n.mode(i),this.slideThumb()}else e>=o.swipeThreshold?n.goToPrevSlide():e<=-o.swipeThreshold&&n.goToNextSlide()},enableDrag:function(){var t=this;if(!$){var i=0,s=0,a=!1;g.find(".lightSlider").addClass("lsGrab"),g.on("mousedown",function(t){return!(u<f&&0!==u)&&void("lSPrev"!==e(t.target).attr("class")&&"lSNext"!==e(t.target).attr("class")&&(i=o.vertical===!0?t.pageY:t.pageX,a=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,g.scrollLeft+=1,g.scrollLeft-=1,g.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(C)))}),e(window).on("mousemove",function(e){a&&(s=o.vertical===!0?e.pageY:e.pageX,t.touchMove(s,i))}),e(window).on("mouseup",function(n){if(a){g.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"),a=!1,s=o.vertical===!0?n.pageY:n.pageX;var r=s-i;Math.abs(r)>=o.swipeThreshold&&e(window).on("click.ls",function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopImmediatePropagation(),t.stopPropagation(),e(window).off("click.ls")}),t.touchEnd(r)}})}},enableTouch:function(){var e=this;if($){var t={},i={};g.on("touchstart",function(e){i=e.originalEvent.targetTouches[0],t.pageX=e.originalEvent.targetTouches[0].pageX,t.pageY=e.originalEvent.targetTouches[0].pageY,clearInterval(C)}),g.on("touchmove",function(s){if(u<f&&0!==u)return!1;var a=s.originalEvent;i=a.targetTouches[0];var n=Math.abs(i.pageX-t.pageX),r=Math.abs(i.pageY-t.pageY);o.vertical===!0?(3*r>n&&s.preventDefault(),e.touchMove(i.pageY,t.pageY)):(3*n>r&&s.preventDefault(),e.touchMove(i.pageX,t.pageX))}),g.on("touchend",function(){if(u<f&&0!==u)return!1;var s;s=o.vertical===!0?i.pageY-t.pageY:i.pageX-t.pageX,e.touchEnd(s)})}},build:function(){var t=this;t.initialStyle(),this.doCss()&&(o.enableTouch===!0&&t.enableTouch(),o.enableDrag===!0&&t.enableDrag()),e(window).on("focus",function(){t.auto()}),e(window).on("blur",function(){clearInterval(C)}),t.pager(),t.pauseOnHover(),t.controls(),t.keyPress()}},s.build(),T.init=function(){T.chbreakpoint(),o.vertical===!0?(f=o.item>1?o.verticalHeight:r.outerHeight(),g.css("height",f+"px")):f=g.outerWidth(),o.loop===!0&&"slide"===o.mode&&T.clone(),T.calL(),"slide"===o.mode&&n.removeClass("lSSlide"),"slide"===o.mode&&(T.calSW(),T.sSW()),setTimeout(function(){"slide"===o.mode&&n.addClass("lSSlide")},1e3),o.pager&&T.createPager(),o.adaptiveHeight===!0&&o.vertical===!1&&n.css("height",r.eq(m).outerHeight(!0)),o.adaptiveHeight===!1&&("slide"===o.mode?o.vertical===!1?s.setHeight(n,!1):s.auto():s.setHeight(n,!0)),o.gallery===!0&&s.slideThumb(),"slide"===o.mode&&s.slide(),o.autoWidth===!1?r.length<=o.item?g.find(".lSAction").hide():g.find(".lSAction").show():T.calWidth(!1)<f&&0!==u?g.find(".lSAction").hide():g.find(".lSAction").show()},n.goToPrevSlide=function(){if(m>0)o.onBeforePrevSlide.call(this,n,m),m--,n.mode(!1),o.gallery===!0&&s.slideThumb();else if(o.loop===!0){if(o.onBeforePrevSlide.call(this,n,m),"fade"===o.mode){var e=h-1;m=parseInt(e/o.slideMove)}n.mode(!1),o.gallery===!0&&s.slideThumb()}else o.slideEndAnimation===!0&&(n.addClass("leftEnd"),setTimeout(function(){n.removeClass("leftEnd")},400))},n.goToNextSlide=function(){var e=!0;if("slide"===o.mode){var t=s.slideValue();e=t<u-f-o.slideMargin}m*o.slideMove<h-o.slideMove&&e?(o.onBeforeNextSlide.call(this,n,m),m++,n.mode(!1),o.gallery===!0&&s.slideThumb()):o.loop===!0?(o.onBeforeNextSlide.call(this,n,m),m=0,n.mode(!1),o.gallery===!0&&s.slideThumb()):o.slideEndAnimation===!0&&(n.addClass("rightEnd"),setTimeout(function(){n.removeClass("rightEnd")},400))},n.mode=function(e){o.adaptiveHeight===!0&&o.vertical===!1&&n.css("height",r.eq(m).outerHeight(!0)),p===!1&&("slide"===o.mode?s.doCss()&&(n.addClass("lSSlide"),""!==o.speed&&g.css("transition-duration",o.speed+"ms"),""!==o.cssEasing&&g.css("transition-timing-function",o.cssEasing)):s.doCss()&&(""!==o.speed&&n.css("transition-duration",o.speed+"ms"),""!==o.cssEasing&&n.css("transition-timing-function",o.cssEasing))),e||o.onBeforeSlide.call(this,n,m),"slide"===o.mode?s.slide():s.fade(),g.hasClass("ls-hover")||s.auto(),setTimeout(function(){e||o.onAfterSlide.call(this,n,m)},o.speed),p=!0},n.play=function(){n.goToNextSlide(),o.auto=!0,s.auto()},n.pause=function(){o.auto=!1,clearInterval(C)},n.refresh=function(){T.init()},n.getCurrentSlideCount=function(){var e=m;if(o.loop){var t=g.find(".lslide").length,i=n.find(".clone.left").length;e=m<=i-1?t+(m-i):m>=t+i?m-t-i:m-i}return e+1},n.getTotalSlideCount=function(){return g.find(".lslide").length},n.goToSlide=function(e){m=o.loop?e+n.find(".clone.left").length-1:e,n.mode(!1),o.gallery===!0&&s.slideThumb()},n.destroy=function(){n.lightSlider&&(n.goToPrevSlide=function(){},n.goToNextSlide=function(){},n.mode=function(){},n.play=function(){},n.pause=function(){},n.refresh=function(){},n.getCurrentSlideCount=function(){},n.getTotalSlideCount=function(){},n.goToSlide=function(){},n.lightSlider=null,T={init:function(){}},n.parent().parent().find(".lSAction, .lSPager").remove(),n.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),n.children().removeAttr("style"),r.removeClass("lslide active"),n.find(".clone").remove(),r=null,C=null,p=!1,m=0)},setTimeout(function(){o.onSliderLoad.call(this,n)},10),e(window).on("resize orientationchange",function(e){setTimeout(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,T.init()},200)}),this}}(jQuery),!function(e,t,i,s){function o(t,i){this.settings=null,this.options=e.extend({},o.Defaults,i),this.$element=e(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy(function(t,i){this._handlers[i]=e.proxy(this[i],this)},this)),e.each(o.Plugins,e.proxy(function(e,t){this._plugins[e.charAt(0).toLowerCase()+e.slice(1)]=new t(this)},this)),e.each(o.Workers,e.proxy(function(t,i){this._pipe.push({filter:i.filter,run:e.proxy(i.run,this)})},this)),this.setup(),this.initialize()}o.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},o.Width={Default:"default",Inner:"inner",Outer:"outer"},o.Type={Event:"event",State:"state"},o.Plugins={},o.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(e){var t=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,o={width:"auto","margin-left":s?t:"","margin-right":s?"":t};!i&&this.$stage.children().css(o),e.css=o}},{filter:["width","items","settings"],run:function(e){var t=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,o=!this.settings.autoWidth,a=[];for(e.items={merge:!1,width:t};s--;)i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,e.items.merge=i>1||e.items.merge,a[s]=o?t*i:this._items[s].width();this._widths=a}},{filter:["items","settings"],run:function(){var t=[],i=this._items,s=this.settings,o=Math.max(2*s.items,4),a=2*Math.ceil(i.length/2),n=s.loop&&i.length?s.rewind?o:Math.max(o,a):0,r="",l="";for(n/=2;n>0;)t.push(this.normalize(t.length/2,!0)),r+=i[t[t.length-1]][0].outerHTML,t.push(this.normalize(i.length-1-(t.length-1)/2,!0)),l=i[t[t.length-1]][0].outerHTML+l,n-=1;this._clones=t,e(r).addClass("cloned").appendTo(this.$stage),e(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,i=-1,s=0,o=0,a=[];++i<t;)s=a[i-1]||0,o=this._widths[this.relative(i)]+this.settings.margin,a.push(s+o*e);this._coordinates=a}},{filter:["width","items","settings"],run:function(){var e=this.settings.stagePadding,t=this._coordinates,i={width:Math.ceil(Math.abs(t[t.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(e){var t=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&e.items.merge)for(;t--;)e.css.width=this._widths[this.relative(t)],s.eq(t).css(e.css);else i&&(e.css.width=e.items.width,s.css(e.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(e){e.current=e.current?this.$stage.children().index(e.current):0,e.current=Math.max(this.minimum(),Math.min(this.maximum(),e.current)),this.reset(e.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,i,s,o=this.settings.rtl?1:-1,a=2*this.settings.stagePadding,n=this.coordinates(this.current())+a,r=n+this.width()*o,l=[];for(i=0,s=this._coordinates.length;i<s;i++)e=this._coordinates[i-1]||0,t=Math.abs(this._coordinates[i])+a*o,(this.op(e,"<=",n)&&this.op(e,">",r)||this.op(t,"<",n)&&this.op(t,">",r))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],o.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+">",{"class":this.settings.stageClass}).wrap(e("<div/>",{"class":this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},o.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");return t.length?(this._items=t.get().map(function(t){return e(t)}),this._mergers=this._items.map(function(){return 1}),void this.refresh()):(this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),void 0)},o.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var e,t,i;e=this.$element.find("img"),t=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:s,i=this.$element.children(t).width(),e.length&&i<=0&&this.preloadAutoWidthImages(e)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},o.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},o.prototype.setup=function(){var t=this.viewport(),i=this.options.responsive,s=-1,o=null;i?(e.each(i,function(e){e<=t&&e>s&&(s=Number(e))}),o=e.extend({},this.options,i[s]),"function"==typeof o.stagePadding&&(o.stagePadding=o.stagePadding()),delete o.responsive,o.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):o=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:o}}),this._breakpoint=s,this.settings=o,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},o.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},o.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data},o.prototype.update=function(){for(var t=0,i=this._pipe.length,s=e.proxy(function(e){return this[e]},this._invalidated),o={};t<i;)(this._invalidated.all||e.grep(this._pipe[t].filter,s).length>0)&&this._pipe[t].run(o),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},o.prototype.width=function(e){switch(e=e||o.Width.Default){case o.Width.Inner:case o.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},o.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},o.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},o.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},o.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},o.prototype.onDragStart=function(t){var s=null;3!==t.which&&(e.support.transform?(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),s={x:s[16===s.length?12:4],y:s[16===s.length?13:5]}):(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(e.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=e(t.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(t),e(i).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(i).one("mousemove.owl.core touchmove.owl.core",e.proxy(function(t){var s=this.difference(this._drag.pointer,this.pointer(t));e(i).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},o.prototype.onDragMove=function(e){var t=null,i=null,s=null,o=this.difference(this._drag.pointer,this.pointer(e)),a=this.difference(this._drag.stage.start,o);this.is("dragging")&&(e.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-t,a.x=((a.x-t)%i+i)%i+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*o.x/5:0,a.x=Math.max(Math.min(a.x,t+s),i+s)),this._drag.stage.current=a,this.animate(a.x))},o.prototype.onDragEnd=function(t){var s=this.difference(this._drag.pointer,this.pointer(t)),o=this._drag.stage.current,a=s.x>0^this.settings.rtl?"left":"right";e(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(o.x,0!==s.x?a:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=a,(Math.abs(s.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},o.prototype.closest=function(t,i){var o=-1,a=30,n=this.width(),r=this.coordinates();return this.settings.freeDrag||e.each(r,e.proxy(function(e,l){return"left"===i&&t>l-a&&t<l+a?o=e:"right"===i&&t>l-n-a&&t<l-n+a?o=e+1:this.op(t,"<",l)&&this.op(t,">",r[e+1]!==s?r[e+1]:l-n)&&(o="left"===i?e+1:e),-1===o},this)),this.settings.loop||(this.op(t,">",r[this.minimum()])?o=t=this.minimum():this.op(t,"<",r[this.maximum()])&&(o=t=this.maximum())),o},o.prototype.animate=function(t){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):i?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},o.prototype.is=function(e){return this._states.current[e]&&this._states.current[e]>0},o.prototype.current=function(e){if(e===s)return this._current;if(0===this._items.length)return s;if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==s&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},o.prototype.invalidate=function(t){return"string"===e.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,function(e,t){return t})},o.prototype.reset=function(e){(e=this.normalize(e))!==s&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},o.prototype.normalize=function(e,t){var i=this._items.length,o=t?0:this._clones.length;return!this.isNumeric(e)||i<1?e=s:(e<0||e>=i+o)&&(e=((e-o/2)%i+i)%i+o/2),
e},o.prototype.relative=function(e){return e-=this._clones.length/2,this.normalize(e,!0)},o.prototype.maximum=function(e){var t,i,s,o=this.settings,a=this._coordinates.length;if(o.loop)a=this._clones.length/2+this._items.length-1;else if(o.autoWidth||o.merge){if(t=this._items.length)for(i=this._items[--t].width(),s=this.$element.width();t--&&!((i+=this._items[t].width()+this.settings.margin)>s););a=t+1}else a=o.center?this._items.length-1:this._items.length-o.items;return e&&(a-=this._clones.length/2),Math.max(a,0)},o.prototype.minimum=function(e){return e?0:this._clones.length/2},o.prototype.items=function(e){return e===s?this._items.slice():(e=this.normalize(e,!0),this._items[e])},o.prototype.mergers=function(e){return e===s?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},o.prototype.clones=function(t){var i=this._clones.length/2,o=i+this._items.length,a=function(e){return e%2==0?o+e/2:i-(e+1)/2};return t===s?e.map(this._clones,function(e,t){return a(t)}):e.map(this._clones,function(e,i){return e===t?a(i):null})},o.prototype.speed=function(e){return e!==s&&(this._speed=e),this._speed},o.prototype.coordinates=function(t){var i,o=1,a=t-1;return t===s?e.map(this._coordinates,e.proxy(function(e,t){return this.coordinates(t)},this)):(this.settings.center?(this.settings.rtl&&(o=-1,a=t+1),i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[a]||0))/2*o):i=this._coordinates[a]||0,i=Math.ceil(i))},o.prototype.duration=function(e,t,i){return 0===i?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(i||this.settings.smartSpeed)},o.prototype.to=function(e,t){var i=this.current(),s=null,o=e-this.relative(i),a=(o>0)-(o<0),n=this._items.length,r=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>n/2&&(o+=-1*a*n),e=i+o,(s=((e-r)%n+n)%n+r)!==e&&s-o<=l&&s-o>0&&(i=s-o,e=s,this.reset(i))):this.settings.rewind?(l+=1,e=(e%l+l)%l):e=Math.max(r,Math.min(l,e)),this.speed(this.duration(i,e,t)),this.current(e),this.isVisible()&&this.update()},o.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},o.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},o.prototype.onTransitionEnd=function(e){return(e===s||(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)===this.$stage.get(0)))&&(this.leave("animating"),void this.trigger("translated"))},o.prototype.viewport=function(){var s;return this.options.responsiveBaseElement!==t?s=e(this.options.responsiveBaseElement).width():t.innerWidth?s=t.innerWidth:i.documentElement&&i.documentElement.clientWidth?s=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),s},o.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(e.proxy(function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},o.prototype.add=function(t,i){var o=this.relative(this._current);i=i===s?this._items.length:this.normalize(i,!0),t=t instanceof jQuery?t:e(t),this.trigger("add",{content:t,position:i}),t=this.prepare(t),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[i-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(t),this._items.splice(i,0,t),this._mergers.splice(i,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[o]&&this.reset(this._items[o].index()),this.invalidate("items"),this.trigger("added",{content:t,position:i})},o.prototype.remove=function(e){(e=this.normalize(e,!0))!==s&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},o.prototype.preloadAutoWidthImages=function(t){t.each(e.proxy(function(t,i){this.enter("pre-loading"),i=e(i),e(new Image).one("load",e.proxy(function(e){i.attr("src",e.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},o.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(i).off(".owl.core"),!1!==this.settings.responsive&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var s in this._plugins)this._plugins[s].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},o.prototype.op=function(e,t,i){var s=this.settings.rtl;switch(t){case"<":return s?e>i:e<i;case">":return s?e<i:e>i;case">=":return s?e<=i:e>=i;case"<=":return s?e>=i:e<=i}},o.prototype.on=function(e,t,i,s){e.addEventListener?e.addEventListener(t,i,s):e.attachEvent&&e.attachEvent("on"+t,i)},o.prototype.off=function(e,t,i,s){e.removeEventListener?e.removeEventListener(t,i,s):e.detachEvent&&e.detachEvent("on"+t,i)},o.prototype.trigger=function(t,i,s,a,n){var r={item:{count:this._items.length,index:this.current()}},l=e.camelCase(e.grep(["on",t,s],function(e){return e}).join("-").toLowerCase()),d=e.Event([t,"owl",s||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},r,i));return this._supress[t]||(e.each(this._plugins,function(e,t){t.onTrigger&&t.onTrigger(d)}),this.register({type:o.Type.Event,name:t}),this.$element.trigger(d),this.settings&&"function"==typeof this.settings[l]&&this.settings[l].call(this,d)),d},o.prototype.enter=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){this._states.current[t]===s&&(this._states.current[t]=0),this._states.current[t]++},this))},o.prototype.leave=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){this._states.current[t]--},this))},o.prototype.register=function(t){if(t.type===o.Type.Event){if(e.event.special[t.name]||(e.event.special[t.name]={}),!e.event.special[t.name].owl){var i=e.event.special[t.name]._default;e.event.special[t.name]._default=function(e){return!i||!i.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:i.apply(this,arguments)},e.event.special[t.name].owl=!0}}else t.type===o.Type.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=e.grep(this._states.tags[t.name],e.proxy(function(i,s){return e.inArray(i,this._states.tags[t.name])===s},this)))},o.prototype.suppress=function(t){e.each(t,e.proxy(function(e,t){this._supress[t]=!0},this))},o.prototype.release=function(t){e.each(t,e.proxy(function(e,t){delete this._supress[t]},this))},o.prototype.pointer=function(e){var i={x:null,y:null};return e=e.originalEvent||e||t.event,e=e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e.pageX?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i},o.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))},o.prototype.difference=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.fn.owlCarousel=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=e(this),a=s.data("owl.carousel");a||(a=new o(this,"object"==typeof t&&t),s.data("owl.carousel",a),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,i){a.register({type:o.Type.Event,name:i}),a.$element.on(i+".owl.carousel.core",e.proxy(function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([i]),a[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},a))})),"string"==typeof t&&"_"!==t.charAt(0)&&a[t].apply(a,i)})},e.fn.owlCarousel.Constructor=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,s){var o=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={autoRefresh:!0,autoRefreshInterval:500},o.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},o.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},o.prototype.destroy=function(){var e,i;t.clearInterval(this._interval);for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,s){var o=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type)){var i=this._core.settings,o=i.center&&Math.ceil(i.items/2)||i.items,a=i.center&&-1*o||0,n=(t.property&&t.property.value!==s?t.property.value:this._core.current())+a,r=this._core.clones().length,l=e.proxy(function(e,t){this.load(t)},this);for(i.lazyLoadEager>0&&(o+=i.lazyLoadEager,i.loop&&(n-=i.lazyLoadEager,o++));a++<o;)this.load(r/2+this._core.relative(n)),r&&e.each(this._core.clones(this._core.relative(n)),l),n++}},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={lazyLoad:!1,lazyLoadEager:0},o.prototype.load=function(i){var s=this._core.$stage.children().eq(i),o=s&&s.find(".owl-lazy");!o||e.inArray(s.get(0),this._loaded)>-1||(o.each(e.proxy(function(i,s){var o,a=e(s),n=t.devicePixelRatio>1&&a.attr("data-src-retina")||a.attr("data-src")||a.attr("data-srcset");this._core.trigger("load",{element:a,url:n},"lazy"),a.is("img")?a.one("load.owl.lazy",e.proxy(function(){a.css("opacity",1),this._core.trigger("loaded",{element:a,url:n},"lazy")},this)).attr("src",n):a.is("source")?a.one("load.owl.lazy",e.proxy(function(){this._core.trigger("loaded",{element:a,url:n},"lazy")},this)).attr("srcset",n):(o=new Image,o.onload=e.proxy(function(){a.css({"background-image":'url("'+n+'")',opacity:"1"}),this._core.trigger("loaded",{element:a,url:n},"lazy")},this),o.src=n)},this)),this._loaded.push(s.get(0)))},o.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,s){var o=function(i){this._core=i,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&"position"===e.property.name&&this.update()},this),"loaded.owl.lazy":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var s=this;e(t).on("load",function(){s._core.settings.autoHeight&&s.update()}),e(t).resize(function(){s._core.settings.autoHeight&&(null!=s._intervalId&&clearTimeout(s._intervalId),s._intervalId=setTimeout(function(){s.update()},250))})};o.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},o.prototype.update=function(){var t=this._core._current,i=t+this._core.settings.items,s=this._core.settings.lazyLoad,o=this._core.$stage.children().toArray().slice(t,i),a=[],n=0;e.each(o,function(t,i){a.push(e(i).height())}),n=Math.max.apply(null,a),n<=1&&s&&this._previousHeight&&(n=this._previousHeight),this._previousHeight=n,this._core.$stage.parent().height(n).addClass(this._core.settings.autoHeightClass)},o.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,s){var o=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()},this),"refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(t){if(t.namespace){var i=e(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,e(t.content)))}},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(e){this.play(e)},this))};o.Defaults={video:!1,videoHeight:!1,videoWidth:!1},o.prototype.fetch=function(e,t){var i=function(){return e.attr("data-vimeo-id")?"vimeo":e.attr("data-vzaar-id")?"vzaar":"youtube"}(),s=e.attr("data-vimeo-id")||e.attr("data-youtube-id")||e.attr("data-vzaar-id"),o=e.attr("data-width")||this._core.settings.videoWidth,a=e.attr("data-height")||this._core.settings.videoHeight,n=e.attr("href");if(!n)throw new Error("Missing video URL.");if(s=n.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),s[3].indexOf("youtu")>-1)i="youtube";else if(s[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(s[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[n]={type:i,id:s,width:o,height:a},t.attr("data-video",n),this.thumbnail(e,this._videos[n])},o.prototype.thumbnail=function(t,i){var s,o,a,n=i.width&&i.height?"width:"+i.width+"px;height:"+i.height+"px;":"",r=t.find("img"),l="src",d="",c=this._core.settings,h=function(i){o='<div class="owl-video-play-icon"></div>',s=c.lazyLoad?e("<div/>",{"class":"owl-video-tn "+d,srcType:i}):e("<div/>",{"class":"owl-video-tn",style:"opacity:1;background-image:url("+i+")"}),t.after(s),t.after(o)};return t.wrap(e("<div/>",{"class":"owl-video-wrapper",style:n})),this._core.settings.lazyLoad&&(l="data-src",d="owl-lazy"),r.length?(h(r.attr(l)),r.remove(),!1):void("youtube"===i.type?(a="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",h(a)):"vimeo"===i.type?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){a=e[0].thumbnail_large,h(a)}}):"vzaar"===i.type&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){a=e.framegrab_url,h(a)}}))},o.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},o.prototype.play=function(t){var i,s=e(t.target),o=s.closest("."+this._core.settings.itemClass),a=this._videos[o.attr("data-video")],n=a.width||"100%",r=a.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),o=this._core.items(this._core.relative(o.index())),this._core.reset(o.index()),i=e('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),i.attr("height",r),i.attr("width",n),"youtube"===a.type?i.attr("src","//www.youtube.com/embed/"+a.id+"?autoplay=1&rel=0&v="+a.id):"vimeo"===a.type?i.attr("src","//player.vimeo.com/video/"+a.id+"?autoplay=1"):"vzaar"===a.type&&i.attr("src","//view.vzaar.com/"+a.id+"/player?autoplay=true"),e(i).wrap('<div class="owl-video-frame" />').insertAfter(o.find(".owl-video")),this._playing=o.addClass("owl-video-playing"))},o.prototype.isInFullScreen=function(){var t=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return t&&e(t).parent().hasClass("owl-video-frame")},o.prototype.destroy=function(){var e,t;this._core.$element.off("click.owl.video");for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,s){var o=function(t){this.core=t,this.core.options=e.extend({},o.Defaults,this.core.options),this.swapping=!0,this.previous=s,this.next=s,this.handlers={"change.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(e){e.namespace&&(this.swapping="translated"==e.type)},this),"translate.owl.carousel":e.proxy(function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};o.Defaults={animateOut:!1,animateIn:!1},o.prototype.swap=function(){if(1===this.core.settings.items&&e.support.animation&&e.support.transition){this.core.speed(0);var t,i=e.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),o=this.core.$stage.children().eq(this.next),a=this.core.settings.animateIn,n=this.core.settings.animateOut;this.core.current()!==this.previous&&(n&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(e.support.animation.end,i).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(n)),a&&o.one(e.support.animation.end,i).addClass("animated owl-animated-in").addClass(a))}},o.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},o.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,s){var o=function(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":e.proxy(function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":e.proxy(function(e,t,i){e.namespace&&this.play(t,i)},this),"stop.owl.autoplay":e.proxy(function(e){e.namespace&&this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},o.Defaults,this._core.options)};o.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},o.prototype._next=function(s){this._call=t.setTimeout(e.proxy(this._next,this,s),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||i.hidden||this._core.next(s||this._core.settings.autoplaySpeed)},o.prototype.read=function(){return(new Date).getTime()-this._time},o.prototype.play=function(i,s){var o;this._core.is("rotating")||this._core.enter("rotating"),i=i||this._core.settings.autoplayTimeout,o=Math.min(this._time%(this._timeout||i),i),this._paused?(this._time=this.read(),this._paused=!1):t.clearTimeout(this._call),this._time+=this.read()%i-o,this._timeout=i,this._call=t.setTimeout(e.proxy(this._next,this,s),i-o)},o.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,t.clearTimeout(this._call),this._core.leave("rotating"))},o.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,t.clearTimeout(this._call))},o.prototype.destroy=function(){var e,t;this.stop();for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,s){"use strict";var o=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())},this),"remove.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&this.draw()},this),"initialized.owl.carousel":e.proxy(function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers)};o.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},o.prototype.initialize=function(){var t,i=this._core.settings;this._controls.$relative=(i.navContainer?e(i.navContainer):e("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy(function(e){this.prev(i.navSpeed)},this)),this._controls.$next=e("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy(function(e){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[e('<button role="button">').addClass(i.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?e(i.dotsContainer):e("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",e.proxy(function(t){var s=e(t.target).parent().is(this._controls.$absolute)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(s,i.dotsSpeed)},this));for(t in this._overrides)this._core[t]=e.proxy(this[t],this)},o.prototype.destroy=function(){var e,t,i,s,o;o=this._core.settings;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)"$relative"===t&&o.navContainer?this._controls[t].html(""):this._controls[t].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},o.prototype.update=function(){var e,t,i,s=this._core.clones().length/2,o=s+this._core.items().length,a=this._core.maximum(!0),n=this._core.settings,r=n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items;if("page"!==n.slideBy&&(n.slideBy=Math.min(n.slideBy,n.items)),n.dots||"page"==n.slideBy)for(this._pages=[],e=s,t=0,i=0;e<o;e++){if(t>=r||0===t){if(this._pages.push({start:Math.min(a,e-s),end:e-s+r-1}),Math.min(a,e-s)===a)break;t=0,++i}t+=this._core.mergers(this._core.relative(e))}},o.prototype.draw=function(){var t,i=this._core.settings,s=this._core.items().length<=i.items,o=this._core.relative(this._core.current()),a=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!a&&o<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!a&&o>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(t=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):t>0?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},o.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},o.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy(function(e,i){return e.start<=t&&e.end>=t},this)).pop()},o.prototype.getPosition=function(t){var i,s,o=this._core.settings;return"page"==o.slideBy?(i=e.inArray(this.current(),this._pages),s=this._pages.length,t?++i:--i,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,t?i+=o.slideBy:i-=o.slideBy),i},o.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},o.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},o.prototype.to=function(t,i,s){var o;!s&&this._pages.length?(o=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%o+o)%o].start,i)):e.proxy(this._overrides.to,this._core)(t,i)},e.fn.owlCarousel.Constructor.Plugins.Navigation=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,s){"use strict";var o=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(t){if(t.namespace){var i=e(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=t.content}},this),"changed.owl.carousel":e.proxy(function(i){if(i.namespace&&"position"===i.property.name){var s=this._core.items(this._core.relative(this._core.current())),o=e.map(this._hashes,function(e,t){return e===s?t:null}).join();if(!o||t.location.hash.slice(1)===o)return;t.location.hash=o}},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(e){var i=t.location.hash.substring(1),o=this._core.$stage.children(),a=this._hashes[i]&&o.index(this._hashes[i]);a!==s&&a!==this._core.current()&&this._core.to(this._core.relative(a),!1,!0)},this))};o.Defaults={URLhashListener:!1},o.prototype.destroy=function(){var i,s;e(t).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,s){function o(t,i){var o=!1,a=t.charAt(0).toUpperCase()+t.slice(1);return e.each((t+" "+r.join(a+" ")+a).split(" "),function(e,t){if(n[t]!==s)return o=!i||t,!1}),o}function a(e){return o(e,!0)}var n=e("<support>").get(0).style,r="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},d={csstransforms:function(){return!!o("transform")},csstransforms3d:function(){return!!o("perspective")},csstransitions:function(){return!!o("transition")},cssanimations:function(){return!!o("animation")}};d.csstransitions()&&(e.support.transition=new String(a("transition")),e.support.transition.end=l.transition.end[e.support.transition]),d.cssanimations()&&(e.support.animation=new String(a("animation")),e.support.animation.end=l.animation.end[e.support.animation]),d.csstransforms()&&(e.support.transform=new String(a("transform")),e.support.transform3d=d.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(e){e.fn.extend({reflect:function(t){return t=e.extend({height:1/3,opacity:.5},t),this.unreflect().each(function(){function i(){var i,o,a,n,r,l=s.width,d=s.height;if(o=Math.floor(t.height>1?Math.min(d,t.height):d*t.height),i=e("<canvas />")[0],i.getContext){n=i.getContext("2d");try{e(i).attr({width:l,height:o}),n.save(),n.translate(0,d-1),n.scale(1,-1),n.drawImage(s,0,0,l,d),n.restore(),n.globalCompositeOperation="destination-out",r=n.createLinearGradient(0,0,0,o),r.addColorStop(0,"rgba(255, 255, 255, "+(1-t.opacity)+")"),r.addColorStop(1,"rgba(255, 255, 255, 1.0)"),n.fillStyle=r,n.rect(0,0,l,o),n.fill()}catch(c){return}}else{if(!window.ActiveXObject)return;i=e("<img />").attr("src",s.src).css({width:l,height:d,marginBottom:o-d,filter:"FlipV progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*t.opacity+", FinishOpacity=0, Style=1, StartX=0, StartY=0, FinishX=0, FinishY="+o/d*100+")"})[0]}e(i).css({display:"block",border:0}),a=e(/^a$/i.test(s.parentNode.tagName)?"<span />":"<div />").insertAfter(s).append([s,i])[0],a.className=s.className,e.data(s,"reflected",a.style.cssText=s.style.cssText),e(a).css({width:l,height:d+o,overflow:"hidden"}),s.style.cssText="display: block; border: 0px",s.className="reflected"}var s=this;/^img$/i.test(s.tagName)&&(s.complete?i():e(s).load(i));
})},unreflect:function(){return this.unbind("load").each(function(){var t,i=this,s=e.data(this,"reflected");void 0!==s&&(t=i.parentNode,i.className=t.className,i.style.cssText=s,e.removeData(i,"reflected"),t.parentNode.replaceChild(i,t))})}})}(jQuery),jQuery(function(e){e("img.reflect").reflect({})}),!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(i){return t(e,i)}):"object"==typeof exports?t(e,require("jquery")):t(e,e.jQuery||e.Zepto)}(this,function(e,t){"use strict";function i(e){if(x&&"none"===e.css("animation-name")&&"none"===e.css("-webkit-animation-name")&&"none"===e.css("-moz-animation-name")&&"none"===e.css("-o-animation-name")&&"none"===e.css("-ms-animation-name"))return 0;var t,i,s,o,a=e.css("animation-duration")||e.css("-webkit-animation-duration")||e.css("-moz-animation-duration")||e.css("-o-animation-duration")||e.css("-ms-animation-duration")||"0s",n=e.css("animation-delay")||e.css("-webkit-animation-delay")||e.css("-moz-animation-delay")||e.css("-o-animation-delay")||e.css("-ms-animation-delay")||"0s",r=e.css("animation-iteration-count")||e.css("-webkit-animation-iteration-count")||e.css("-moz-animation-iteration-count")||e.css("-o-animation-iteration-count")||e.css("-ms-animation-iteration-count")||"1";for(a=a.split(", "),n=n.split(", "),r=r.split(", "),o=0,i=a.length,t=Number.NEGATIVE_INFINITY;o<i;o++)s=parseFloat(a[o])*parseInt(r[o],10)+parseFloat(n[o]),s>t&&(t=s);return t}function s(){if(t(document).height()<=t(window).height())return 0;var e,i,s=document.createElement("div"),o=document.createElement("div");return s.style.visibility="hidden",s.style.width="100px",document.body.appendChild(s),e=s.offsetWidth,s.style.overflow="scroll",o.style.width="100%",s.appendChild(o),i=o.offsetWidth,s.parentNode.removeChild(s),e-i}function o(){if(!C){var e,i,o=t("html"),a=c("is-locked");o.hasClass(a)||(i=t(document.body),e=parseInt(i.css("padding-right"),10)+s(),i.css("padding-right",e+"px"),o.addClass(a))}}function a(){if(!C){var e,i,o=t("html"),a=c("is-locked");o.hasClass(a)&&(i=t(document.body),e=parseInt(i.css("padding-right"),10)-s(),i.css("padding-right",e+"px"),o.removeClass(a))}}function n(e,t,i,s){var o=c("is",t),a=[c("is",b.CLOSING),c("is",b.OPENING),c("is",b.CLOSED),c("is",b.OPENED)].join(" ");e.$bg.removeClass(a).addClass(o),e.$overlay.removeClass(a).addClass(o),e.$wrapper.removeClass(a).addClass(o),e.$modal.removeClass(a).addClass(o),e.state=t,!i&&e.$modal.trigger({type:t,reason:s},[{reason:s}])}function r(e,s,o){var a=0,n=function(e){e.target===this&&a++},r=function(e){e.target===this&&0===--a&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){o[t].off(v+" "+y)}),s())};t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){o[t].on(v,n).on(y,r)}),e(),0===i(o.$bg)&&0===i(o.$overlay)&&0===i(o.$wrapper)&&0===i(o.$modal)&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){o[t].off(v+" "+y)}),s())}function l(e){e.state!==b.CLOSED&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(t,i){e[i].off(v+" "+y)}),e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),a(),n(e,b.CLOSED,!0))}function d(e){var t,i,s,o,a={};for(e=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),t=e.split(","),o=0,i=t.length;o<i;o++)t[o]=t[o].split(":"),s=t[o][1],("string"==typeof s||s instanceof String)&&(s="true"===s||"false"!==s&&s),("string"==typeof s||s instanceof String)&&(s=isNaN(s)?s:+s),a[t[o][0]]=s;return a}function c(){for(var e=m,t=0;t<arguments.length;++t)e+="-"+arguments[t];return e}function h(){var e,i,s=location.hash.replace("#","");if(s){try{i=t('[data-remodal-id="'+s+'"]')}catch(o){}i&&i.length&&(e=t[g].lookup[i.data(g)],e&&e.settings.hashTracking&&e.open())}else p&&p.state===b.OPENED&&p.settings.hashTracking&&p.close()}function u(e,i){var s=t(document.body),o=s,a=this;a.settings=t.extend({},w,i),a.index=t[g].lookup.push(a)-1,a.state=b.CLOSED,a.$overlay=t("."+c("overlay")),null!==a.settings.appendTo&&a.settings.appendTo.length&&(o=t(a.settings.appendTo)),a.$overlay.length||(a.$overlay=t("<div>").addClass(c("overlay")+" "+c("is",b.CLOSED)).hide(),o.append(a.$overlay)),a.$bg=t("."+c("bg")).addClass(c("is",b.CLOSED)),a.$modal=e.addClass(m+" "+c("is-initialized")+" "+a.settings.modifier+" "+c("is",b.CLOSED)).attr("tabindex","-1"),a.$wrapper=t("<div>").addClass(c("wrapper")+" "+a.settings.modifier+" "+c("is",b.CLOSED)).hide().append(a.$modal),o.append(a.$wrapper),a.$wrapper.on("click."+m,'[data-remodal-action="close"]',function(e){e.preventDefault(),a.close()}),a.$wrapper.on("click."+m,'[data-remodal-action="cancel"]',function(e){e.preventDefault(),a.$modal.trigger(_.CANCELLATION),a.settings.closeOnCancel&&a.close(_.CANCELLATION)}),a.$wrapper.on("click."+m,'[data-remodal-action="confirm"]',function(e){e.preventDefault(),a.$modal.trigger(_.CONFIRMATION),a.settings.closeOnConfirm&&a.close(_.CONFIRMATION)}),a.$wrapper.on("click."+m,function(e){var i=t(e.target);i.hasClass(c("wrapper"))&&a.settings.closeOnOutsideClick&&a.close()})}var p,f,g="remodal",m=e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.NAMESPACE||g,v=t.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(e){return e+"."+m}).join(" "),y=t.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(e){return e+"."+m}).join(" "),w=t.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.DEFAULTS),b={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},_={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},x=function(){var e=document.createElement("div").style;return void 0!==e.animationName||void 0!==e.WebkitAnimationName||void 0!==e.MozAnimationName||void 0!==e.msAnimationName||void 0!==e.OAnimationName}(),C=/iPad|iPhone|iPod/.test(navigator.platform);u.prototype.open=function(){var e,i=this;i.state!==b.OPENING&&i.state!==b.CLOSING&&(e=i.$modal.attr("data-remodal-id"),e&&i.settings.hashTracking&&(f=t(window).scrollTop(),location.hash=e),p&&p!==i&&l(p),p=i,o(),i.$bg.addClass(i.settings.modifier),i.$overlay.addClass(i.settings.modifier).show(),i.$wrapper.show().scrollTop(0),i.$modal.focus(),r(function(){n(i,b.OPENING)},function(){n(i,b.OPENED)},i))},u.prototype.close=function(e){var i=this;i.state!==b.OPENING&&i.state!==b.CLOSING&&i.state!==b.CLOSED&&(i.settings.hashTracking&&i.$modal.attr("data-remodal-id")===location.hash.substr(1)&&(location.hash="",t(window).scrollTop(f)),r(function(){n(i,b.CLOSING,!1,e)},function(){i.$bg.removeClass(i.settings.modifier),i.$overlay.removeClass(i.settings.modifier).hide(),i.$wrapper.hide(),a(),n(i,b.CLOSED,!1,e)},i))},u.prototype.getState=function(){return this.state},u.prototype.destroy=function(){var e,i=t[g].lookup;l(this),this.$wrapper.remove(),delete i[this.index],e=t.grep(i,function(e){return!!e}).length,0===e&&(this.$overlay.remove(),this.$bg.removeClass(c("is",b.CLOSING)+" "+c("is",b.OPENING)+" "+c("is",b.CLOSED)+" "+c("is",b.OPENED)))},t[g]={lookup:[]},t.fn[g]=function(e){var i,s;return this.each(function(o,a){s=t(a),null==s.data(g)?(i=new u(s,e),s.data(g,i.index),i.settings.hashTracking&&s.attr("data-remodal-id")===location.hash.substr(1)&&i.open()):i=t[g].lookup[s.data(g)]}),i},t(document).ready(function(){t(document).on("click","[data-remodal-target]",function(e){e.preventDefault();var i=e.currentTarget,s=i.getAttribute("data-remodal-target"),o=t('[data-remodal-id="'+s+'"]');t[g].lookup[o.data(g)].open()}),t(document).find("."+m).each(function(e,i){var s=t(i),o=s.data("remodal-options");o?("string"==typeof o||o instanceof String)&&(o=d(o)):o={},s[g](o)}),t(document).on("keydown."+m,function(e){p&&p.settings.closeOnEscape&&p.state===b.OPENED&&27===e.keyCode&&p.close()}),t(window).on("hashchange."+m,h)})});